<!DOCTYPE html>
<html ng-app="shop_app">
<head>
<script type="text/javascript">window.NREUM||(NREUM={});NREUM.info={"beacon":"bam.nr-data.net","errorBeacon":"bam.nr-data.net","licenseKey":"aa0d8411ae","applicationID":"5470801","transactionName":"ewxaQUoKDQ0DQRhfQFwGRkYXBgkEBVhYRUY=","queueTime":0,"applicationTime":378,"agent":"js-agent.newrelic.com/nr-768.min.js"}</script>
<script type="text/javascript">(window.NREUM||(NREUM={})).loader_config={xpid:"VwAPUFFTGwYEU1FaBwA="};window.NREUM||(NREUM={}),__nr_require=function(t,e,n){function r(n){if(!e[n]){var o=e[n]={exports:{}};t[n][0].call(o.exports,function(e){var o=t[n][1][e];return r(o||e)},o,o.exports)}return e[n].exports}if("function"==typeof __nr_require)return __nr_require;for(var o=0;o<n.length;o++)r(n[o]);return r}({QJf3ax:[function(t,e){function n(t){function e(e,n,a){t&&t(e,n,a),a||(a={});for(var c=s(e),f=c.length,u=i(a,o,r),d=0;f>d;d++)c[d].apply(u,n);return u}function a(t,e){f[t]=s(t).concat(e)}function s(t){return f[t]||[]}function c(){return n(e)}var f={};return{on:a,emit:e,create:c,listeners:s,_events:f}}function r(){return{}}var o="nr@context",i=t("gos");e.exports=n()},{gos:"7eSDFh"}],ee:[function(t,e){e.exports=t("QJf3ax")},{}],3:[function(t){function e(t){try{i.console&&console.log(t)}catch(e){}}var n,r=t("ee"),o=t(1),i={};try{n=localStorage.getItem("__nr_flags").split(","),console&&"function"==typeof console.log&&(i.console=!0,-1!==n.indexOf("dev")&&(i.dev=!0),-1!==n.indexOf("nr_dev")&&(i.nrDev=!0))}catch(a){}i.nrDev&&r.on("internal-error",function(t){e(t.stack)}),i.dev&&r.on("fn-err",function(t,n,r){e(r.stack)}),i.dev&&(e("NR AGENT IN DEVELOPMENT MODE"),e("flags: "+o(i,function(t){return t}).join(", ")))},{1:24,ee:"QJf3ax"}],4:[function(t){function e(t,e,n,i,s){try{c?c-=1:r("err",[s||new UncaughtException(t,e,n)])}catch(f){try{r("ierr",[f,(new Date).getTime(),!0])}catch(u){}}return"function"==typeof a?a.apply(this,o(arguments)):!1}function UncaughtException(t,e,n){this.message=t||"Uncaught error with no additional information",this.sourceURL=e,this.line=n}function n(t){r("err",[t,(new Date).getTime()])}var r=t("handle"),o=t(6),i=t("ee"),a=window.onerror,s=!1,c=0;t("loader").features.err=!0,t(5),window.onerror=e;try{throw new Error}catch(f){"stack"in f&&(t(1),t(2),"addEventListener"in window&&t(3),window.XMLHttpRequest&&XMLHttpRequest.prototype&&XMLHttpRequest.prototype.addEventListener&&window.XMLHttpRequest&&XMLHttpRequest.prototype&&XMLHttpRequest.prototype.addEventListener&&!/CriOS/.test(navigator.userAgent)&&t(4),s=!0)}i.on("fn-start",function(){s&&(c+=1)}),i.on("fn-err",function(t,e,r){s&&(this.thrown=!0,n(r))}),i.on("fn-end",function(){s&&!this.thrown&&c>0&&(c-=1)}),i.on("internal-error",function(t){r("ierr",[t,(new Date).getTime(),!0])})},{1:11,2:10,3:8,4:12,5:3,6:25,ee:"QJf3ax",handle:"D5DuLP",loader:"G9z0Bl"}],5:[function(t){if(window.addEventListener){var e=t("handle"),n=t("ee");t(1),window.addEventListener("click",function(){e("inc",["ck"])},!1),window.addEventListener("hashchange",function(){e("inc",["hc"])},!1),n.on("pushState-start",function(){e("inc",["ps"])})}},{1:9,ee:"QJf3ax",handle:"D5DuLP"}],6:[function(t){t("loader").features.ins=!0},{loader:"G9z0Bl"}],7:[function(t){function e(){}if(window.performance&&window.performance.timing&&window.performance.getEntriesByType){var n=t("ee"),r=t("handle"),o=t(1),i=t(2);t("loader").features.stn=!0,t(3);var a=Event;n.on("fn-start",function(t){var e=t[0];e instanceof a&&(this.bstStart=Date.now())}),n.on("fn-end",function(t,e){var n=t[0];n instanceof a&&r("bst",[n,e,this.bstStart,Date.now()])}),o.on("fn-start",function(t,e,n){this.bstStart=Date.now(),this.bstType=n}),o.on("fn-end",function(t,e){r("bstTimer",[e,this.bstStart,Date.now(),this.bstType])}),i.on("fn-start",function(){this.bstStart=Date.now()}),i.on("fn-end",function(t,e){r("bstTimer",[e,this.bstStart,Date.now(),"requestAnimationFrame"])}),n.on("pushState-start",function(){this.time=Date.now(),this.startPath=location.pathname+location.hash}),n.on("pushState-end",function(){r("bstHist",[location.pathname+location.hash,this.startPath,this.time])}),"addEventListener"in window.performance&&(window.performance.addEventListener("webkitresourcetimingbufferfull",function(){r("bstResource",[window.performance.getEntriesByType("resource")]),window.performance.webkitClearResourceTimings()},!1),window.performance.addEventListener("resourcetimingbufferfull",function(){r("bstResource",[window.performance.getEntriesByType("resource")]),window.performance.clearResourceTimings()},!1)),document.addEventListener("scroll",e,!1),document.addEventListener("keypress",e,!1),document.addEventListener("click",e,!1)}},{1:11,2:10,3:9,ee:"QJf3ax",handle:"D5DuLP",loader:"G9z0Bl"}],8:[function(t,e){function n(t){i.inPlace(t,["addEventListener","removeEventListener"],"-",r)}function r(t){return t[1]}var o=t("ee").create(),i=t(1)(o),a=t("gos");if(e.exports=o,n(window),"getPrototypeOf"in Object){for(var s=document;s&&!s.hasOwnProperty("addEventListener");)s=Object.getPrototypeOf(s);s&&n(s);for(var c=XMLHttpRequest.prototype;c&&!c.hasOwnProperty("addEventListener");)c=Object.getPrototypeOf(c);c&&n(c)}else XMLHttpRequest.prototype.hasOwnProperty("addEventListener")&&n(XMLHttpRequest.prototype);o.on("addEventListener-start",function(t,e){function n(){return s}if(t[1]){var r=t[1];if("function"==typeof r){var s=a(r,"nr@wrapped",function(){return i(r,"fn-",n,r.name||"anonymous")});this.wrapped=t[1]=s,o.emit("initEventContext",[t,e],this.wrapped)}else"function"==typeof r.handleEvent&&i.inPlace(r,["handleEvent"],"fn-")}}),o.on("removeEventListener-start",function(t){var e=this.wrapped;e&&(t[1]=e)})},{1:26,ee:"QJf3ax",gos:"7eSDFh"}],9:[function(t,e){var n=t("ee").create(),r=t(1)(n);e.exports=n,r.inPlace(window.history,["pushState","replaceState"],"-")},{1:26,ee:"QJf3ax"}],10:[function(t,e){var n=t("ee").create(),r=t(1)(n);e.exports=n,r.inPlace(window,["requestAnimationFrame","mozRequestAnimationFrame","webkitRequestAnimationFrame","msRequestAnimationFrame"],"raf-"),n.on("raf-start",function(t){t[0]=r(t[0],"fn-")})},{1:26,ee:"QJf3ax"}],11:[function(t,e){function n(t,e,n){t[0]=i(t[0],"fn-",null,n)}function r(t,e,n){function r(){return a}this.ctx={};var a={"nr@context":this.ctx};o.emit("initTimerContext",[t,n],a),t[0]=i(t[0],"fn-",r,n)}var o=t("ee").create(),i=t(1)(o);e.exports=o,i.inPlace(window,["setTimeout","setImmediate"],"setTimer-"),i.inPlace(window,["setInterval"],"setInterval-"),i.inPlace(window,["clearTimeout","clearImmediate"],"clearTimeout-"),o.on("setInterval-start",n),o.on("setTimer-start",r)},{1:26,ee:"QJf3ax"}],12:[function(t,e){function n(){f.inPlace(this,p,"fn-",o)}function r(t,e){f.inPlace(e,["onreadystatechange"],"fn-")}function o(t,e){return e}function i(t,e){for(var n in t)e[n]=t[n];return e}var a=t("ee").create(),s=t(1),c=t(2),f=c(a),u=c(s),d=window.XMLHttpRequest,p=["onload","onerror","onabort","onloadstart","onloadend","onprogress","ontimeout"];e.exports=a,window.XMLHttpRequest=function(t){var e=new d(t);try{a.emit("new-xhr",[],e),e.hasOwnProperty("addEventListener")&&u.inPlace(e,["addEventListener","removeEventListener"],"-",o),e.addEventListener("readystatechange",n,!1)}catch(r){try{a.emit("internal-error",[r])}catch(i){}}return e},i(d,XMLHttpRequest),XMLHttpRequest.prototype=d.prototype,f.inPlace(XMLHttpRequest.prototype,["open","send"],"-xhr-",o),a.on("send-xhr-start",r),a.on("open-xhr-start",r)},{1:8,2:26,ee:"QJf3ax"}],13:[function(t){function e(t){var e=this.params,r=this.metrics;if(!this.ended){this.ended=!0;for(var i=0;c>i;i++)t.removeEventListener(s[i],this.listener,!1);if(!e.aborted){if(r.duration=(new Date).getTime()-this.startTime,4===t.readyState){e.status=t.status;var a=t.responseType,f="arraybuffer"===a||"blob"===a||"json"===a?t.response:t.responseText,u=n(f);if(u&&(r.rxSize=u),this.sameOrigin){var d=t.getResponseHeader("X-NewRelic-App-Data");d&&(e.cat=d.split(", ").pop())}}else e.status=0;r.cbTime=this.cbTime,o("xhr",[e,r,this.startTime])}}}function n(t){if("string"==typeof t&&t.length)return t.length;if("object"!=typeof t)return void 0;if("undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer&&t.byteLength)return t.byteLength;if("undefined"!=typeof Blob&&t instanceof Blob&&t.size)return t.size;if("undefined"!=typeof FormData&&t instanceof FormData)return void 0;try{return JSON.stringify(t).length}catch(e){return void 0}}function r(t,e){var n=i(e),r=t.params;r.host=n.hostname+":"+n.port,r.pathname=n.pathname,t.sameOrigin=n.sameOrigin}if(window.XMLHttpRequest&&XMLHttpRequest.prototype&&XMLHttpRequest.prototype.addEventListener&&!/CriOS/.test(navigator.userAgent)){t("loader").features.xhr=!0;var o=t("handle"),i=t(2),a=t("ee"),s=["load","error","abort","timeout"],c=s.length,f=t(1),u=window.XMLHttpRequest;t(4),t(3),a.on("new-xhr",function(){this.totalCbs=0,this.called=0,this.cbTime=0,this.end=e,this.ended=!1,this.xhrGuids={}}),a.on("open-xhr-start",function(t){this.params={method:t[0]},r(this,t[1]),this.metrics={}}),a.on("open-xhr-end",function(t,e){"loader_config"in NREUM&&"xpid"in NREUM.loader_config&&this.sameOrigin&&e.setRequestHeader("X-NewRelic-ID",NREUM.loader_config.xpid)}),a.on("send-xhr-start",function(t,e){var r=this.metrics,o=t[0],i=this;if(r&&o){var f=n(o);f&&(r.txSize=f)}this.startTime=(new Date).getTime(),this.listener=function(t){try{"abort"===t.type&&(i.params.aborted=!0),("load"!==t.type||i.called===i.totalCbs&&(i.onloadCalled||"function"!=typeof e.onload))&&i.end(e)}catch(n){try{a.emit("internal-error",[n])}catch(r){}}};for(var u=0;c>u;u++)e.addEventListener(s[u],this.listener,!1)}),a.on("xhr-cb-time",function(t,e,n){this.cbTime+=t,e?this.onloadCalled=!0:this.called+=1,this.called!==this.totalCbs||!this.onloadCalled&&"function"==typeof n.onload||this.end(n)}),a.on("xhr-load-added",function(t,e){var n=""+f(t)+!!e;this.xhrGuids&&!this.xhrGuids[n]&&(this.xhrGuids[n]=!0,this.totalCbs+=1)}),a.on("xhr-load-removed",function(t,e){var n=""+f(t)+!!e;this.xhrGuids&&this.xhrGuids[n]&&(delete this.xhrGuids[n],this.totalCbs-=1)}),a.on("addEventListener-end",function(t,e){e instanceof u&&"load"===t[0]&&a.emit("xhr-load-added",[t[1],t[2]],e)}),a.on("removeEventListener-end",function(t,e){e instanceof u&&"load"===t[0]&&a.emit("xhr-load-removed",[t[1],t[2]],e)}),a.on("fn-start",function(t,e,n){e instanceof u&&("onload"===n&&(this.onload=!0),("load"===(t[0]&&t[0].type)||this.onload)&&(this.xhrCbStart=(new Date).getTime()))}),a.on("fn-end",function(t,e){this.xhrCbStart&&a.emit("xhr-cb-time",[(new Date).getTime()-this.xhrCbStart,this.onload,e],e)})}},{1:"XL7HBI",2:14,3:12,4:8,ee:"QJf3ax",handle:"D5DuLP",loader:"G9z0Bl"}],14:[function(t,e){e.exports=function(t){var e=document.createElement("a"),n=window.location,r={};e.href=t,r.port=e.port;var o=e.href.split("://");return!r.port&&o[1]&&(r.port=o[1].split("/")[0].split("@").pop().split(":")[1]),r.port&&"0"!==r.port||(r.port="https"===o[0]?"443":"80"),r.hostname=e.hostname||n.hostname,r.pathname=e.pathname,r.protocol=o[0],"/"!==r.pathname.charAt(0)&&(r.pathname="/"+r.pathname),r.sameOrigin=!e.hostname||e.hostname===document.domain&&e.port===n.port&&e.protocol===n.protocol,r}},{}],15:[function(t,e){function n(t){return function(){r(t,[(new Date).getTime()].concat(i(arguments)))}}var r=t("handle"),o=t(1),i=t(2);"undefined"==typeof window.newrelic&&(newrelic=window.NREUM);var a=["setPageViewName","addPageAction","setCustomAttribute","finished","addToTrace","inlineHit","noticeError"];o(a,function(t,e){window.NREUM[e]=n("api-"+e)}),e.exports=window.NREUM},{1:24,2:25,handle:"D5DuLP"}],gos:[function(t,e){e.exports=t("7eSDFh")},{}],"7eSDFh":[function(t,e){function n(t,e,n){if(r.call(t,e))return t[e];var o=n();if(Object.defineProperty&&Object.keys)try{return Object.defineProperty(t,e,{value:o,writable:!0,enumerable:!1}),o}catch(i){}return t[e]=o,o}var r=Object.prototype.hasOwnProperty;e.exports=n},{}],D5DuLP:[function(t,e){function n(t,e,n){return r.listeners(t).length?r.emit(t,e,n):void(r.q&&(r.q[t]||(r.q[t]=[]),r.q[t].push(e)))}var r=t("ee").create();e.exports=n,n.ee=r,r.q={}},{ee:"QJf3ax"}],handle:[function(t,e){e.exports=t("D5DuLP")},{}],XL7HBI:[function(t,e){function n(t){var e=typeof t;return!t||"object"!==e&&"function"!==e?-1:t===window?0:i(t,o,function(){return r++})}var r=1,o="nr@id",i=t("gos");e.exports=n},{gos:"7eSDFh"}],id:[function(t,e){e.exports=t("XL7HBI")},{}],G9z0Bl:[function(t,e){function n(){var t=p.info=NREUM.info,e=f.getElementsByTagName("script")[0];if(t&&t.licenseKey&&t.applicationID&&e){s(d,function(e,n){e in t||(t[e]=n)});var n="https"===u.split(":")[0]||t.sslForHttp;p.proto=n?"https://":"http://",a("mark",["onload",i()]);var r=f.createElement("script");r.src=p.proto+t.agent,e.parentNode.insertBefore(r,e)}}function r(){"complete"===f.readyState&&o()}function o(){a("mark",["domContent",i()])}function i(){return(new Date).getTime()}var a=t("handle"),s=t(1),c=window,f=c.document;t(2);var u=(""+location).split("?")[0],d={beacon:"bam.nr-data.net",errorBeacon:"bam.nr-data.net",agent:"js-agent.newrelic.com/nr-768.min.js"},p=e.exports={offset:i(),origin:u,features:{}};f.addEventListener?(f.addEventListener("DOMContentLoaded",o,!1),c.addEventListener("load",n,!1)):(f.attachEvent("onreadystatechange",r),c.attachEvent("onload",n)),a("mark",["firstbyte",i()])},{1:24,2:15,handle:"D5DuLP"}],loader:[function(t,e){e.exports=t("G9z0Bl")},{}],24:[function(t,e){function n(t,e){var n=[],o="",i=0;for(o in t)r.call(t,o)&&(n[i]=e(o,t[o]),i+=1);return n}var r=Object.prototype.hasOwnProperty;e.exports=n},{}],25:[function(t,e){function n(t,e,n){e||(e=0),"undefined"==typeof n&&(n=t?t.length:0);for(var r=-1,o=n-e||0,i=Array(0>o?0:o);++r<o;)i[r]=t[e+r];return i}e.exports=n},{}],26:[function(t,e){function n(t){return!(t&&"function"==typeof t&&t.apply&&!t[i])}var r=t("ee"),o=t(1),i="nr@original",a=Object.prototype.hasOwnProperty;e.exports=function(t){function e(t,e,r,a){function nrWrapper(){var n,i,s,f;try{i=this,n=o(arguments),s=r&&r(n,i)||{}}catch(d){u([d,"",[n,i,a],s])}c(e+"start",[n,i,a],s);try{return f=t.apply(i,n)}catch(p){throw c(e+"err",[n,i,p],s),p}finally{c(e+"end",[n,i,f],s)}}return n(t)?t:(e||(e=""),nrWrapper[i]=t,f(t,nrWrapper),nrWrapper)}function s(t,r,o,i){o||(o="");var a,s,c,f="-"===o.charAt(0);for(c=0;c<r.length;c++)s=r[c],a=t[s],n(a)||(t[s]=e(a,f?s+o:o,i,s))}function c(e,n,r){try{t.emit(e,n,r)}catch(o){u([o,e,n,r])}}function f(t,e){if(Object.defineProperty&&Object.keys)try{var n=Object.keys(t);return n.forEach(function(n){Object.defineProperty(e,n,{get:function(){return t[n]},set:function(e){return t[n]=e,e}})}),e}catch(r){u([r])}for(var o in t)a.call(t,o)&&(e[o]=t[o]);return e}function u(e){try{t.emit("internal-error",e)}catch(n){}}return t||(t=r),e.inPlace=s,e.flag=i,e}},{1:25,ee:"QJf3ax"}]},{},["G9z0Bl",4,13,7,6,5]);</script>
	<meta name="viewport" content="initial-scale=1.0, maximum-scale=1.0, user-scalable=0" >
    
  <meta name="apple-mobile-web-app-capable" content="yes" />
  
    <title>Mia cake 米亞手工蛋糕</title>

  <meta name="google" value="notranslate">
    <link rel="shortcut icon" type="image/png" href="http://img-shoplineapp-com.s3.amazonaws.com/media/image_clips/55f3acc869702d6fc7fd3d00/original.jpg?1442032840">

  <!-- styles-->
  <link href='https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/css'>
    <link href='https://fonts.googleapis.com/css?family=Source+Sans+Pro:200,300,400,600,700,900,200italic,300italic,400italic,600italic,700italic,900italic' rel='stylesheet' type='text/css'>
  <link href="/assets/application-b450a4ce1115207f9189c84f68a8db1e.css" media="all" rel="stylesheet" />
  <link rel="stylesheet" href="/themes/v1/lace/assets/css/lace.css?modified=2015-11-18">
  <!-- styles-->


  <script src="https://cdn.shopify.com/s/javascripts/currencies.js"></script>
  <script src="/assets/application-277723b2f3ddb805e5df2d7448b14aa3.js"></script>





  <script type="text/javascript">
    app.value('mainConfig', {
      merchantId: '55f23f06e36c8e916c000071',
      sessionId: "d17a27a8a5b36bdf93b31e52fb4e3944",
      appCoreHost: "shoplineapp.com",
      apiBaseUrl: "http://shoplineapp.com",
      counterApiHost: "http://count.shoplineapp.com/",
      appendToUrl:'',
      env: 'production',
      merchantData: {"_id":"55f23f06e36c8e916c000071","emails":{"order":"","message":"","comment":""},"features":[],"opensrs_login":"miacake2008com","base_country_code":"TW","default_language_code":"zh-hant","instagram_id":null,"instagram_info":null,"owner_type":"User","status":"active","shop_status":"open","profile_image":null,"facebook_page_id":"319074308138528","current_plan_key":"pro_month","current_theme_key":"lace","connect_features":[],"signup_ref":{"utm_source":"fbpost","utm_campaign":"hketnews2015","utm_medium":"facebook","utm_content":"tw"},"phones":{"main":"02-22453579"},"remarks":{},"tags_s":"","tags":[],"owner_id":"55f23f06e36c8e916c000070","owner_id_s":"55f23f06e36c8e916c000070","name":"Mia cake 米亞手工蛋糕","email":"mia@miacake.com.tw","handle":"mia126","updated_at":"2015-11-11T08:07:34.689Z","created_at":"2015-09-11T02:40:06.725Z","base_currency_code":"TWD","custom_domain":"www.miacake2008.com","custom_domain_requested":"miacake2008.com","favicon_media_id":"55f3acc869702d6fc7fd3d00","invoice_activation":"inactive","domain_remarks":"","brand_home_url":"http://www.miacake2008.com","logo_media_url":"http://img-shoplineapp-com.s3.amazonaws.com/media/image_clips/55f3ad5069702d6a541a3d00/original.jpg?1442032975","base_currency":{"id":"twd","iso_code":"TWD","alternate_symbol":"NT$","name":"New Taiwan Dollar","symbol_first":true,"subunit_to_unit":1},"shop_default_home_url":"http://mia126.shoplineapp.com","payment_method_count":2,"delivery_option_count":6,"favicon_media_url":"http://img-shoplineapp-com.s3.amazonaws.com/media/image_clips/55f3acc869702d6fc7fd3d00/original.jpg?1442032840"},
      themeBasePath: '/themes/v1/default',
      // loadedLanguage:'zh-hant',
      localeData: {"loadedLanguage":{"name":"中文(繁)","code":"zh-hant"},"supportedLocales":[{"name":"EN","code":"en"}]},
      currentUser:null,
      themeSettings:{"theme_color":"mint.sea","categories_collapsed":true,"image_fill":true,"is_multicurrency_enabled":false},
      requestCountry: "US",
      trackerEventData: {},
      currencyData: {"displayedCurrency":{"name":"$ TWD","iso_code":"TWD"},"supportedCurrencies":[{"name":"$ HKD","iso_code":"hkd"},{"name":"¥ CNY","iso_code":"cny"},{"name":"$ USD","iso_code":"usd"},{"name":"$ SGD","iso_code":"sgd"},{"name":"€ EUR","iso_code":"eur"},{"name":"$ AUD","iso_code":"aud"},{"name":"£ GBP","iso_code":"gbp"},{"name":"₱ PHP","iso_code":"php"},{"name":"RM MYR","iso_code":"myr"},{"name":"฿ THB","iso_code":"thb"},{"name":"د.إ AED","iso_code":"aed"},{"name":"¥ JPY","iso_code":"jpy"},{"name":"K MMK","iso_code":"mmk"},{"name":"$ BND","iso_code":"bnd"},{"name":"₩ KRW","iso_code":"krw"}]}
    });

    app.value('flash', {
        data:'{"isSameTab":"true","controller":"home","action":"callback"}',
    });

    app.value('flash_data', {});
    app.value('routeParams', {"controller":"orders","action":"checkout"});
  </script>




  <!-- GLOBAL CONTENT FOR HTML HEAD START-->
<link href='http://fonts.googleapis.com/css?family=Noto+Sans' rel='stylesheet' type='text/css'>

		<link rel="stylesheet" href="/themes/v1/lace/assets/css/lace.css?modified=2015-11-18">
	
		
<!-- GLOBAL CONTENT FOR HTML HEAD END -->
      <style>
      .boxify-image {
        background-size: cover;
      }
      </style>
    <style>
      
    </style>
    
  <meta content="authenticity_token" name="csrf-param" />
<meta content="MZE/iVpoEhvEjp6LgrKjoWi4eM6JPtoUKUi6BZRwI1E=" name="csrf-token" />
    <meta property="og:site_name" content="Mia cake 米亞手工蛋糕"/>
    <meta property="og:title" content="Mia cake 米亞手工蛋糕"/>
    <meta property="og:url" content="http://www.miacake2008.com"/>
    <meta property="og:description" content=""/>
    <meta property="og:image" content="http://img-shoplineapp-com.s3.amazonaws.com/media/image_clips/55f3ad5069702d6a541a3d00/original.jpg?1442032975"/>
  

</head>

<body class="orders checkout" ng-controller="MainController"  ng-cloak>
	<div id="left-panel" style="display:none">  
<div class="language-switcher">
  <!-- <select ng-change="changeLanguage(currentLanguage)" ng-model="currentLanguage">
      <option value="en">
         English
      </option>
      <option value="zh-hant">
         中文(繁) 
      </option>
  </select> -->
</div>

<div class="clear"></div>
<!-- <div style="float: left;width: 100%;background-color:#262d36;" ng-show='isUserLoggedIn'>
  <div class="sidr-photo">
    <div class="sidr-photo-ring">
      <img class="img-circle sidr-chat-head" ng-src="{{currentUser.profile_image_url}}"/>
    </div>
  </div>
</div>
<div style="float: left;width: 100%;background-color:#262d36;" ng-show='!isUserLoggedIn'>
  <div style="height: 1px;background-color:#232a32;"></div>
</div> -->


<div class="clear"></div>
<div ng-show='isUserLoggedIn' class="hello" style="padding: 25px 15px;word-wrap:break-word;">
  你好, {{currentUser.name}}
</div>
<div ng-show='!isUserLoggedIn' class="hello"></div>
<div class="clear"></div>
<div class="visible-sm visible-xs">
  <div class="section-header">
     目錄
  </div>
  <ul>
    <li>
      <a href="/products">所有商品</a>
    <li>
      <a href="/categories/生日造型蛋糕">造型蛋糕</a>
    <li>
      <a href="/categories/戚風蛋糕">低溫點心</a>
    <li>
      <a href="/categories/手工麵包">手工麵包</a>
    <li>
      <a href="/categories/客製餐盒">客製餐盒</a>
    <li>
      <a href="/categories/季節限定"></a>
  </ul>
</div>

  
<div class="clear"></div>
  <div class="visible-sm visible-xs">
    <div class="section-header">
      分類
    </div>
    <ul>
        <li class=" text-secondary-color">
          
          <a href="/categories/55f23f07e36c8e916c000082">精選商品<!-- <span class="catcount"></span> --></a>
        </li>
        <li class=" text-secondary-color">
          
          <a href="/categories/55f3eb18e36c8e1fbc00000a">造型蛋糕<!-- <span class="catcount"></span> --></a>
        </li>
        <li class=" text-secondary-color">
          
          <a href="/categories/55f582bce37ec6e695000034">低溫點心<!-- <span class="catcount"></span> --></a>
        </li>
        <li class=" text-secondary-color">
          
          <a href="/categories/55f584f3039055afc0000003">常溫點心<!-- <span class="catcount"></span> --></a>
        </li>
    </ul>
  </div>

  <div style="" ng-show='isUserLoggedIn'>
    <div class="section-header">
        帳戶
    </div>
     <div collapse="isProfileSectionCollapsed">
      <ul >
        <li> <a ng-href="/users/{{currentUser._id}}/edit" target="_self">個人資訊</a></li>
        <li> <a href="/messages" >訊息</a></li>  
        <li> <a href="/orders" >訂單</a></li>

        <li><a data-method="delete" href="/users/sign_out" rel="nofollow">登出</a>
         
         </li>
      </ul>
    </div>
   </div>
    <div style="" ng-show='!isUserLoggedIn'>
    <div>
    <div class="section-header">
        帳戶
    </div>  
    <ul>
      <li><a class="" href="/users/sign_in" >會員登入</a></li> 
      <li><a class="" href="/users/sign_up">新用戶註冊</a></li>
    </ul>
    </div>
  </div>
</div> 
<!--left-panel-->


<div id="cart-panel" style="display:none">
  <!-- cart Start -->
   <div ng-controller="CartsController">
    <div class="cart-header">
      購物車
    </div>
    <!-- cart items start-->
    <div class="clear"></div>
    <div class="" ng-show="currentCart.isCartEmpty()">
      <div style="display:block;padding:15px">
        你的購物車是空的
      </div>
    </div>
    <div class="" ng-hide="currentCart.isCartEmpty()">
      <div id="" style="" class="cart-items">
        <div class="cart-item" ng-repeat="item in currentCart.getItems()" style=""> 
          <a href="/products/{{item.item_id}}" target="_blank" class="product-link">
            <img class="" style="margin-right:10px;width:50px;height:50px;float:left;" ng-src="{{item.data.cover_media.images.thumb.url}}"/>
          </a>
          <div class="cart-item-content" style="float:left;width:130px;">
            <div class="title">{{item.data.title_translations|translateModel}}</div>
            <div ng-repeat="field in item.variation.fields">
              <div class="variation">{{ field.name_translations | translateModel }}</div>
            </div>
            <div class="variation" ng-hide="item.variation.fields">{{item.variation.name}}</div>
            <div class="price-details">
              {{item.quantity}}<span style=";margin:0 3px;">x</span>
              <span ng-bind-html="currentCart.getItemPrice(item).label | changeCurrency"></span>
            </div>  
          </div><!--cart-item-content-->
            <div class="remove"><a ng-click="removeItemFromCart(item.item_id,item.variation_id,$event)" >刪除</a></div>
          <div class="clear"></div>
        </div><!-- cart-item-->
        <div class="clear"></div>
      </div> <!--cart-items-->
      <!-- cart items end -->
      <div class="clear"></div>
      <div class="cart-chkt-btn-cont">
        <button id="btn-checkout" class="cart-chkt-btn ladda-button" data-style="slide-down" ladda="checkoutButtonLoading" ng-click="onCheckoutClicked($event)">
          訂單結帳
        </button>
      </div>
    </div>
  </div> 
</div> <!--cart-panel-->

<!-- cart End -->
<script type="text/javascript">
$(function() {
  $('.left-panel-button').sidr({
    name: 'left-panel',
    side: 'left',
    body: ".body-wrapper"
  });
  $('.cart-panel-button').sidr({
    name: 'cart-panel',
    side: 'left',
    body: ".body-wrapper"
  });
  $( ".body-wrapper" ).click(function() {
    $.sidr('close','left-panel');
    $.sidr('close','cart-panel');
  });
});
</script>

  <div id="fixed-menu-container" ui-scrollfix ng-cloak class='ng-cloak'>
  <a class="menu-button cog-button" id="" href="/admin" ng-show="currentUser && mainConfig.merchantData.owner_id == currentUser._id"  ng-cloak target="_blank">
    <span class="fa fa-cog"> </span>
  </a>
  
  <a class="left-panel-button menu-button" id="" href="#left-panel" ng-class="{'ie-hack':!mainConfig.themeSettings.is_multicurrency_enabled}">
    <span class="fa fa-bars"> </span><span class="menu-words" style="padding-left:6px;">目錄</span>
  </a>

  <a class="cart-panel-button menu-button" id="" href="#cart-panel" ng-class="{'ie-hack':!mainConfig.themeSettings.is_multicurrency_enabled}">
    <span class="fa fa-shopping-cart"> </span><span class="menu-words" style="padding-left:6px;">購物車</span>
     <span class="cart-count" ng-show="currentCart.getItemCount()>0">({{currentCart.getItemCount()}})</span>
  </a>

  <a class="menu-button message-button" ng-click="showMessageForm()" ng-class="{'ie-hack':!mainConfig.themeSettings.is_multicurrency_enabled}">
    <span class="fa fa-comment"></span><span class="menu-words" style="padding-left:6px;">聯絡店主</span>
  </a>

  <div class="dropdown" dropdown ng-class="{'ie-hack':!mainConfig.themeSettings.is_multicurrency_enabled}">
    <span class="menu-button dropdown-toggle" dropdown-toggle>
      <span class="fa fa-globe"> </span>
      <span class="menu-words" style="padding-left:5px;padding-right:5px;">中文(繁)</span>
      <span class="caret menu-words" style="float: right;position: relative;top: 7px;"></span>
    </span>
    <ul class="dropdown-menu menu-button">
        <li ng-click="changeLanguage('en')"><span>EN</span></li>
    </ul>
  </div>

  <div class="dropdown" dropdown ng-show="mainConfig.themeSettings.is_multicurrency_enabled" ng-class="{'ie-hack':!mainConfig.themeSettings.is_multicurrency_enabled}">
    <span class="menu-button dropdown-toggle" dropdown-toggle>
      <span class="fa menu-words-reversed">$</span>
      <span class="menu-words" style="padding-left:5px;padding-right:5px;">$ TWD</span>
      <span class="caret menu-words" style="float: right;position: relative;top: 7px;"></span>
    </span>
    <ul class="dropdown-menu menu-button">
      <li ng-click="changeCurrency('hkd')"><span>$ HKD</span></li>
      <li ng-click="changeCurrency('cny')"><span>¥ CNY</span></li>
      <li ng-click="changeCurrency('usd')"><span>$ USD</span></li>
      <li ng-click="changeCurrency('sgd')"><span>$ SGD</span></li>
      <li ng-click="changeCurrency('eur')"><span>€ EUR</span></li>
      <li ng-click="changeCurrency('aud')"><span>$ AUD</span></li>
      <li ng-click="changeCurrency('gbp')"><span>£ GBP</span></li>
      <li ng-click="changeCurrency('php')"><span>₱ PHP</span></li>
      <li ng-click="changeCurrency('myr')"><span>RM MYR</span></li>
      <li ng-click="changeCurrency('thb')"><span>฿ THB</span></li>
      <li ng-click="changeCurrency('aed')"><span>د.إ AED</span></li>
      <li ng-click="changeCurrency('jpy')"><span>¥ JPY</span></li>
      <li ng-click="changeCurrency('mmk')"><span>K MMK</span></li>
      <li ng-click="changeCurrency('bnd')"><span>$ BND</span></li>
      <li ng-click="changeCurrency('krw')"><span>₩ KRW</span></li>
    </ul>
  </div>
    
</div>
	
	<div class="body-wrapper" >
    <div class="body-content">
        
      

 <!---navigation -->
<div class="navbar-wrapper " >
  <div class="navbar" role="navigation" style="">
  <div class="navbar-header-wrapper">
    <div class="container" >
      <div class="navbar-header">
        <a  href="http://www.miacake2008.com/">
          <img src="https://images1-focus-opensocial.googleusercontent.com/gadgets/proxy?container=focus&url=http://img-shoplineapp-com.s3.amazonaws.com/media/image_clips/55f3ad5069702d6a541a3d00/original.jpg?1442032975&resize_h=140px"  class="logo-image"/>
          
        </a>
      </div>
    </div> <!--container-->    
  </div>
  <div class="navbar-menu-wrapper">
    <div class="container" >
      <div class="navbar-menu hidden-xs">
        <ul class="text-primary-color">
            <!-- Has dropdown links -->
            <!-- doesn't have dropdown links -->
            <li class="">
              <a class="" href="/products" target="">所有商品</a>
            </li>
            <!-- Has dropdown links -->
            <!-- doesn't have dropdown links -->
            <li class="">
              <a class="" href="/categories/生日造型蛋糕" target="">造型蛋糕</a>
            </li>
            <!-- Has dropdown links -->
            <!-- doesn't have dropdown links -->
            <li class="">
              <a class="" href="/categories/戚風蛋糕" target="">低溫點心</a>
            </li>
            <!-- Has dropdown links -->
            <!-- doesn't have dropdown links -->
            <li class="">
              <a class="" href="/categories/手工麵包" target="">手工麵包</a>
            </li>
            <!-- Has dropdown links -->
            <!-- doesn't have dropdown links -->
            <li class="">
              <a class="" href="/categories/客製餐盒" target="">客製餐盒</a>
            </li>
            <!-- Has dropdown links -->
            <!-- doesn't have dropdown links -->
            <li class="">
              <a class="" href="/categories/季節限定" target=""></a>
            </li>
        </ul>
      </div>  
    </div> <!--container-->    
  </div>
</div><!--navbar-->
</div><!--navbar-wrapper-->
<!-- navigation end -->

        
      <!-- main Content -->
      <div class="yield-wrapper">
      
        <script>
	var checkoutOpts = {"delivery_options":[{"_id":"55f7fe9a69702d0765861900","config_data":null,"coupon_id":null,"created_at":"2015-09-15T11:18:50.045Z","description_translations":{"zh-hant":"請於預約時間內取貨\n店面資訊：新北市中和區景平路431巷90號 聯絡電話：(02)2245-3579 或0982-270608\n營業時間:週二~週五 pm3:00~pm7:00"},"excluded_payment_ids":[],"fee":{"cents":0,"currency_symbol":"NT$","currency_iso":"TWD","label":"","dollars":0.0},"form_fields":[],"merchant_name":"","name_translations":{"zh-hant":"(店面取貨)~造型蛋糕取貨時間(A)12:30~14:30"},"owner_id":"55f23f06e36c8e916c000071","owner_type":"Merchant","phone_number":"","region_type":"custom","requires_customer_address":true,"return_storeid":"","sender_name":"","seven_eleven_return_option":"","shopid":"","show_description_on_checkout":false,"status":"active","updated_at":"2015-09-15T11:19:49.297Z"},{"_id":"55f7ff1a69702d6fd1fc7200","config_data":null,"coupon_id":null,"created_at":"2015-09-15T11:20:58.444Z","description_translations":{},"excluded_payment_ids":[],"fee":{"cents":0,"currency_symbol":"NT$","currency_iso":"TWD","label":"","dollars":0.0},"form_fields":[],"merchant_name":null,"name_translations":{"zh-hant":"(店面取貨)~造型蛋糕取貨時間(B)16:30~19:00"},"owner_id":"55f23f06e36c8e916c000071","owner_type":"Merchant","phone_number":null,"region_type":"custom","requires_customer_address":true,"return_storeid":null,"sender_name":null,"seven_eleven_return_option":null,"shopid":null,"show_description_on_checkout":false,"status":"active","updated_at":"2015-09-15T11:20:58.444Z"},{"_id":"564973ce69702d2361377800","config_data":null,"coupon_id":null,"created_at":"2015-11-16T06:12:30.399Z","description_translations":{},"excluded_payment_ids":[],"fee":{"cents":150,"currency_symbol":"NT$","currency_iso":"TWD","label":"NT$150","dollars":150.0},"form_fields":[],"merchant_name":null,"name_translations":{"zh-hant":"黑貓宅配(低溫)"},"owner_id":"55f23f06e36c8e916c000071","owner_type":"Merchant","phone_number":null,"region_type":"custom","requires_customer_address":true,"return_storeid":null,"sender_name":null,"seven_eleven_return_option":null,"shopid":null,"show_description_on_checkout":false,"status":"active","updated_at":"2015-11-16T06:12:30.399Z"},{"_id":"564436a569702d0c63752c00","config_data":null,"coupon_id":null,"created_at":"2015-11-12T06:50:13.110Z","description_translations":{},"excluded_payment_ids":[],"fee":{"cents":120,"currency_symbol":"NT$","currency_iso":"TWD","label":"NT$120","dollars":120.0},"form_fields":[],"merchant_name":null,"name_translations":{"zh-hant":"黑貓宅配(常溫)"},"owner_id":"55f23f06e36c8e916c000071","owner_type":"Merchant","phone_number":null,"region_type":"custom","requires_customer_address":true,"return_storeid":null,"sender_name":null,"seven_eleven_return_option":null,"shopid":null,"show_description_on_checkout":false,"status":"active","updated_at":"2015-11-12T06:50:13.110Z"},{"_id":"55fc143169702d47247a0f00","config_data":null,"coupon_id":null,"created_at":"2015-09-18T13:40:01.508Z","description_translations":{},"excluded_payment_ids":[],"fee":{"cents":180,"currency_symbol":"NT$","currency_iso":"TWD","label":"NT$180","dollars":180.0},"form_fields":[],"merchant_name":"","name_translations":{"zh-hant":"(黑貓宅配)~造型蛋糕  6吋運費"},"owner_id":"55f23f06e36c8e916c000071","owner_type":"Merchant","phone_number":"","region_type":"custom","requires_customer_address":true,"return_storeid":"","sender_name":"","seven_eleven_return_option":"","shopid":"","show_description_on_checkout":false,"status":"active","updated_at":"2015-09-18T13:41:03.710Z"},{"_id":"55fc14a169702d03d18d0f00","config_data":null,"coupon_id":null,"created_at":"2015-09-18T13:41:53.061Z","description_translations":{},"excluded_payment_ids":[],"fee":{"cents":230,"currency_symbol":"NT$","currency_iso":"TWD","label":"NT$230","dollars":230.0},"form_fields":[],"merchant_name":null,"name_translations":{"zh-hant":"(黑貓宅配)~造型蛋糕 8~10吋運費"},"owner_id":"55f23f06e36c8e916c000071","owner_type":"Merchant","phone_number":null,"region_type":"custom","requires_customer_address":true,"return_storeid":null,"sender_name":null,"seven_eleven_return_option":null,"shopid":null,"show_description_on_checkout":false,"status":"active","updated_at":"2015-09-18T13:41:53.061Z"}],"payment_methods":[{"_id":"55f4435069702d5a36cc4700","fee_percent":0.0,"fee_multiplier":0.0,"instructions_translations":{"zh-hant":"請於下單後2日內將款項存至，彰化銀行(009)，帳號5647-01-03579-200，中和分行，戶名：亨利均國際有限公司。 請匯款後在訂單問與答裡通知我們，如有特別需求，請註明於備註裡，謝謝!"},"show_description_on_checkout":false,"fee_amount":{"cents":0,"currency_symbol":"NT$","currency_iso":"TWD","label":"","dollars":0.0},"name_translations":{"zh-hant":"銀行轉帳／ATM(請於下單後2日內將款項入帳)"},"type":"bank_transfer","excluded_delivery_option_ids":[]},{"_id":"55f6ba8769702d0767270600","fee_percent":0.0,"fee_multiplier":0.0,"instructions_translations":{"zh-hant":"請於下單後2日內來店付款完成"},"show_description_on_checkout":false,"fee_amount":{"cents":0,"currency_symbol":"NT$","currency_iso":"TWD","label":"","dollars":0.0},"name_translations":{"zh-hant":"來店付款(請於下單後2日內來店付款完成)"},"type":"custom","excluded_delivery_option_ids":[]}],"order_settings":{"custom_fields":[{"type":"text","name_translations":{"zh-hant":"宅配收件時段 (A)中午前 (B)12時~17時 及 收貨地址 收貨人電話"},"hint_translations":{"zh-hant":"造型蛋糕建議來店自取,若選擇黑貓配送.不論是宅配到家還是站所自取皆有風險,若遇損壞.黑貓是不負責的唷!"},"label":"宅配收件時段 (a)中午前 (b)12時~17時 及 收貨地址 收貨人電話","name":"宅配收件時段 (a)中午前 (b)12時~17時 及 收貨地址 收貨人電話"},{"type":"text","name_translations":{"zh-hant":"加購區(盤叉1組$5元/6入)(台灣蠟燭$5元/隻,日本蠟燭$40元/隻 )(壽星名字$50元/片)"},"hint_translations":{"zh-hant":"基本盤叉皆有附贈, 壽星姓名,每片50元,8吋以上最多2個姓名"},"label":"加購區(盤叉1組$5元/6入)(台灣蠟燭$5元/隻,日本蠟燭$40元/隻 )(壽星名字$50元/片)","name":"加購區(盤叉1組$5元/6入)(台灣蠟燭$5元/隻,日本蠟燭$40元/隻 )(壽星名字$50元/片)"},{"type":"text","name_translations":{"zh-hant":"訂購造型蛋糕請在此註明[蠟燭歲數] 及 [製作圖案]"},"hint_translations":{"zh-hant":""},"label":"訂購造型蛋糕請在此註明[蠟燭歲數] 及 [製作圖案]","name":"訂購造型蛋糕請在此註明[蠟燭歲數] 及 [製作圖案]","required":false},{"type":"text","name_translations":{"zh-hant":"[匯款金額+加購金額]"},"hint_translations":{"zh-hant":"造型蛋糕一律先付款,若要來店付款.請注意付款時間唷!下單後2日內未付款,訂單即失效.請再重新詢問欲訂購日期及名額唷"},"label":"[匯款金額+加購金額]","name":"[匯款金額+加購金額]","required":true}],"invoice_activation":"inactive"},"user_settings":{"general_fields":[{"type":"gender","options":{"order":{"include":"false","required":"false"},"signup":{"include":"false","required":"false"},"profile":{"include":"false","required":"false"}}},{"type":"birthday","options":{"order":{"include":"false","required":"false"},"signup":{"include":"false","required":"false"},"profile":{"include":"false","required":"false"}}}],"custom_fields":[{"type":"text","name_translations":{"zh-hant":"訂購人姓名"},"options":{"order":{"include":"true","required":"true"},"signup":{"include":"true","required":"false"},"profile":{"include":"true","required":"false"}},"field_id":"55f61feb69702d0a4f6b5700","hint_translations":{"zh-hant":"本國人請填完整中文姓名"}},{"type":"text","name_translations":{"zh-hant":"發票類型"},"hint_translations":{"zh-hant":"若要開立三聯發票，請輸入統一編號"},"options":{"order":{"include":"true","required":"false"},"signup":{"include":"true","required":"false"},"profile":{"include":"true","required":"false"}},"field_id":"55f620a669702d0acad85c00"},{"type":"text","name_translations":{"zh-hant":"FB姓名 或是 Line ID"},"hint_translations":{"zh-hant":"請告知是用什麼方式與我們聯絡的~方便我們聯繫"},"options":{"order":{"include":"true","required":"false"},"signup":{"include":"true","required":"false"},"profile":{"include":"true","required":"false"}},"field_id":"55f6213069702d0a4f785700"}],"facebook_login":{"status":"active","app_id":"619466044847368","app_secret":"●●●●●●●●"}}};
  flash_data = "{\"isSameTab\":\"true\",\"controller\":\"home\",\"action\":\"callback\"}"
  hop_locations = [{"id":"KLKCDHMT001","name_translations":{"en":"G/F, Homantin Plaza,80 Fat Kwong Street,Ho Man Tin, Kowloon","zh-hant":"九龍，九龍城區，何文田採石山佛光街80號，何文田廣場地下"}},{"id":"KLKCDTWS001","name_translations":{"en":"2/F,Tsz Wan Shan Shopping Centre, 23Yuk Wah Street,Tsz Wan Shan, Kowloon","zh-hant":"九龍，黃大仙區，慈雲山毓華街23號，慈雲山中心2樓"}},{"id":"KLKCDKNT001","name_translations":{"en":"LG/F, Lei Yue Mun Plaza, 80 Lei Yue Mun Road, Yau Tong, Kwun Tong, Kowloon","zh-hant":"九龍，觀塘區，觀塘油塘鯉魚門道80號，鯉魚門廣場地下一層"}},{"id":"KLKCDDDH001","name_translations":{"en":"Level 3, Fung Tak Shopping Centre, 111 Fung Tak Road, Diamond Hill, Kowloon","zh-hant":"九龍，黃大仙區，鑽石山鳳德道111號，鳳德商場3樓"}},{"id":"NTTMDTKR001","name_translations":{"en":"1/F, Leung King Plaza, 31 Tin King Road, Tuen Mun","zh-hant":"新界，屯門區，田景路31號，良景廣場1樓"}},{"id":"NTNHDFNL001","name_translations":{"en":"G/F, Cheung Wah Shopping Centre, 38 San Wan Road, Fanling, Northern District","zh-hant":"新界，北區，粉嶺新運路38號，祥華商場地下"}},{"id":"NTTPDHWR001","name_translations":{"en":"G/F, Wan Tau Tong Shopping Centre, 10 Hiu Wan Road, Tai Po, New Territories","zh-hant":"新界，大埔區，曉運路10號，運頭塘商場地下"}},{"id":"NTKTDTYI001","name_translations":{"en":"Level 1, Cheung Fat Plaza, 6 Tam Kon Shan Road, Tsing Yi, New Territories","zh-hant":"新界，葵青區，青衣担杆山路6號，長發廣場1樓"}},{"id":"NTSTDTWA001","name_translations":{"en":"G/F, Lung Hang Commercial Centre, 1 Tin Sam Street, Tai Wai, Sha Tin, New Territories","zh-hant":"新界，沙田區，大圍田心街1號，隆亨商場"}},{"id":"NTSTDTWA002","name_translations":{"en":"2/F, Sun Chui Shopping Centre, 2 Chui Tin Street, Tai Wai, Sha Tin, New Territories","zh-hant":"新界，沙田區，大圍翠田街2號，新翠商場"}},{"id":"\"NTKTDKCA001","name_translations":{"en":"LG2/F, Shek Yam Shopping Centre, 120 Lei Muk Road, Kwai Chung, Kwai Tsing, New Territories","zh-hant":"新界，葵青區，葵涌梨木道120號，石蔭商場地下2樓"}},{"id":"KLKCDLTA001","name_translations":{"en":"2/F, Kwong Tin Shopping Centre, 168 Pik Wan Road, Lam Tin, Kwun Tong, Kowloon","zh-hant":"九龍，觀塘區，觀塘碧雲道168號，廣田商場2樓"}},{"id":"ISLTITCA001","name_translations":{"en":"Yat Tung Shopping Centre, 8 Yat Tung Street, Tung Chung, New Territories","zh-hant":"離島，離島區，大嶼山東涌逸東街8號，逸東商場"}},{"id":"HKHKESSW001","name_translations":{"en":"2/F, Siu Sai Wan Plaza, 10 Siu Sai Wan Road, Siu Sai Wan, Eastern District, Hong Kong","zh-hant":"香港，東區，小西灣道10號，小西灣廣場2樓"}},{"id":"HKHKSABA001","name_translations":{"en":"2/F, Tin Wan Shopping Centre, 15, 17 \u0026 26 Tin Wan Street, Aberdeen, Southern District, Hong Kong","zh-hant":"香港，南區，香港仔田灣街15, 17及26號，田灣商場2樓"}},{"id":"\"NTKTDMFA001","name_translations":{"en":"1/F, Nob Hill Square, No. 8 King Lai Path, Kwai Chung, New Territories, Hong Kong","zh-hant":"新界葵涌景荔徑8 號盈暉薈1樓"}},{"id":"HKHKESKW001","name_translations":{"en":"1/F, Yiu Tung Shopping Centre, 12 Yiu Hing Road, Shau Kei Wan, Hong Kong","zh-hant":"香港筲箕灣耀興道12號耀東商場1樓"}}]
</script>

<div ng-controller="CheckoutController" ng-init='loadCheckoutOptions()'>
  <div ng-cloak  ng-class="{show: empty_cart_saw, hidden: !empty_cart_saw}">
    <!-- Show cart empty message  -->
    <div class="large-message"> 
    <div class="container">
      <div class="row">
        <div class="col-sm-12" >
          <div class="content">      
            <h2 class="global-primary dark-primary">你的購物車是空的</h2>
            <p class="global-secondary dark-secondary" style="padding-left:0px;">記得加入商品到你的購物車</p>
            <a href="/products" class="btn btn-custom-large btn-color-primary">繼續購物！</a>
          </div>
        </div> <!--col-sm-12-->
      </div> <!--row-->
      <div class="clear"></div>
    </div><!--container-->
  </div><!--large-message-->
  <!-- End cart empty message -->
    
    <!-- <div style="height: 300px;"></div> -->
  </div><!--cart empty -->
  

  <div class="content-controller" ng-cloak ng-class="{show: cart_saw, hidden: !cart_saw}"> 
    <div class="loading-container text-center padding-md container" ng-hide="finishedLoading" >
      <img src="https://s3-ap-southeast-1.amazonaws.com/static.shoplineapp.com/web/v1/img/loaders/loader1.gif">
    </div>
    <div class="container animate-show" ng-cloak ng-show="finishedLoading"> 
      
      <h2 class="global-primary dark-primary">訂單結帳</h2>

      <div class="checkout-instructions">
          <p class="global-secondary dark-secondary">訂單資料</p>
      </div>

      <div class="checkout-tabletop"><!-- items -->
      
       <div class="row" ng-repeat="item in currentCart.getItems()" ng-init="itemPrice = item.quantity*currentCart.getItemPrice(item).cents/mainConfig.merchantData.base_currency.subunit_to_unit">


          <div class="checkout-prod-photo col-md-2">
            <a href="/products/{{item.item_id}}" target="_blank" class="product-link">
              <img ng-src="{{item.data.cover_media.images.thumb.url}}"/>
            </a>
          </div>

          <div class="checkout-prod-info col-md-8">
            
            <div class="checkout-prod-title global-primary dark-primary">{{item.data.title_translations|translateModel}}</div>
            <div ng-repeat="field in item.variation.fields">
                <div class="variation">{{ field.name_translations | translateModel }}</div>
            </div>
            <!-- logic for displaying out of stock item -->
            <div class="out-of-stock">
              <span ng-if="(productOutOfStockData | filter: {item_id: item.item_id, variation_id: item.variation_id})[0].quantity ==0">現在缺貨</span>
              <span ng-if="(productOutOfStockData | filter: {item_id: item.item_id, variation_id: item.variation_id})[0].quantity > 0">商品數量不足</span>
            </div>
            <!-- end logic for displaying out of stock item -->
            <div class="preorder-label" ng-show="item.data.is_preorder&& !((item.data.preorder_note_translations | translateModel).length >0)">預購商品</div>
            <div class="preorder-label" ng-show="item.data.is_preorder && (item.data.preorder_note_translations | translateModel).length >0">{{item.data.preorder_note_translations | translateModel}}</div>
            <div class="checkout-price-details global-secondary dark-secondary">
              <button type="button" class="btn btn-default" ng-click="decQuantity(item)"><i class="fa fa-minus"></i></button>
              <span style="padding: 10px;font-size:16px;">{{item.quantity}}</span>
              <button type="button" class="btn btn-default" ng-click="incQuantity(item)"><i class="fa fa-plus"></i></button>
              <span style="margin:0 50px;">x <span ng-bind-html="currentCart.getItemPrice(item).label"></span></span> 
              <span ng-if="item.coupon && item.coupon.coupon_value">( {{item.coupon.title_translations | translateModel}} )</span>
            </div>

          </div>

          <div class="checkout-item-price col-md-2">
            <div class="checkout-prod-price global-primary dark-primary" ng-class="{'price price-crossed': item.coupon && item.coupon.coupon_value}" ng-bind-html="mainConfig.merchantData.base_currency.alternate_symbol+itemPrice"></div>
            <!--<div class="checkout-prod-price global-primary dark-primary" ng-if="item.coupon && item.coupon.coupon_value">{{item.coupon.title_translations | translateModel}}: -{{mainConfig.merchantData.base_currency.alternate_symbol}}{{Math.ceil(item.coupon.coupon_value * itemPrice)}}</div> -->
            <div class="checkout-prod-price global-primary dark-primary price-sale" ng-if="item.coupon && item.coupon.coupon_value" ng-bind-html="mainConfig.merchantData.base_currency.alternate_symbol+Math.floor((1 - item.coupon.coupon_value) * itemPrice)"></div>
            <div class="checkout-prod-remove sl-checkout-list-prod-remove"><a ng-click="removeItemFromCart(item.item_id,item.variation_id,$event)" >刪除</a></div>
          </div>
        </div><!--row-->

        <div id="campaign_container">
          <div class="row" ng-repeat="coupon in order.coupons | filter:{campaign_id: '!null'}">
            <div class="col-md-10">{{coupon.title_translations|translateModel}}</div>
            <div class="col-md-2">折扣: <span ng-bind-html="coupon.coupon_item.discounted_amount.label"></span></div>
          </div>
        </div>
      </div><!-- items -->
      

      <div class="checkout-tablebottom">
        <div class="">
          <div class="row" style="">
            <div class="col-md-12">
              <div class="checkout-container " ng-hide="currentCart.isCartEmpty() && finishedLoading" >
                
                  <div class="row">
                    <div class="col-md-6">
<form ng-submit="processOrder()" name="orderForm" id="new_order" novalidate method="POST">
                        <input class="hidden" id="order_seller_id" name="order_seller_id" ng-model="order.seller_id" type="hidden" value="{{currentMerchant.merchantId}}"/>
                        
                        <h3 class="sl-section-title"><i class="fa fa-info-circle fa-lg sl-checkout-section-icon"></i>購買人資料</h3>
                        
                        <div class="alert alert-info" ng-if="!isUserLoggedIn"><a href="/users/sign_up" class="alert-link">新用戶註冊</a>可以更方便下單! 已經是會員?<a href="/users/sign_in" class="alert-link">會員登入.</a>
                        </div>
                        <div control-group label="電子信箱" data-field-name="電子信箱" ng-init="currentUser.email == null ? '' : order.customer_email = currentUser.email ">
                          <input class="form-control" name="customer_email" ng-model="order.customer_email" placeholder="電子信箱"  type="email" value="" ng-required="true" 
                          ng-show='!isUserLoggedIn || !order.customer_email' ng-pattern="/[-0-9a-zA-Z.+_]+@[-0-9a-zA-Z.+_]+\.[a-zA-Z]{2,4}/">
                          <div ng-show='!isUserLoggedIn || !order.customer_email' class="help-block">
                            {{'checkout.fields.email.hint'|translate}}
                          </div>
                          <div ng-hide='!isUserLoggedIn || !order.customer_email'> 
                            {{currentUser.email}}
                          </div>

                        </div>          
                        
                        <div control-group label="電話號碼" data-field-name="電話號碼" ng-if="isUserLoggedIn">
                          <select class= "selectpicker form-control" name="user_phone" placeholder=""
                            ng-model="order.customer_phone"
                            ng-required="isUserLoggedIn && !addNewSavedInfo.phone" 
                            ng-change="onSelectedPhone()"
                            ng-init="currentUser.phones[0] == null ? '' : order.customer_phone = currentUser.phones[0] ">
                            <option value="">{{'checkout.fields.select'|translate}}</option>
                            <option ng-repeat="number in currentUser.phones">{{number}}</option>
                            <option value="new_phone">{{'checkout.fields.add_new'|translate}}</option>
                          </select>
                          <!-- <a ng-click="addNewPhone()">{{'checkout.fields.add_new'|translate}}</a> -->
                        </div>
                        
                        <div control-group label="" data-field-name="電話號碼" ng-if="!isUserLoggedIn || addNewSavedInfo.phone">
                          <label class="control-label" ng-if="!isUserLoggedIn">電話號碼</label>
                          <div ng-class="{'input-group': isSevenEleven() }">
                            <div class="input-group-addon" ng-show="isSevenEleven()">+886</div>
                            <input class="form-control" name="customer_phone" ng-model="order.customer_phone" placeholder="此處輸入電話號碼" ng-required="!isUserLoggedIn || addNewSavedInfo.phone" ng-pattern="/^\+?[\-,\s]*[\d]+[\-,\s,\d]*$/" ng-minlength="6">
                          </div>
                          <div ng-show='isSevenEleven()' class="help-block">
                            {{'checkout.fields.phone.hint'|translate}}
                          </div>
                        </div>
                        <div class="help-block" ng-if="isUserLoggedIn && addNewSavedInfo.phone"><input type="checkbox" name="save_phone" ng-model="save_fields.phone" ng-disabled="currentUser.phones.indexOf(order.customer_phone)>=0"/> 儲存這個電話號碼</div>

                        <!-- <div class="help-block" ng-if="isUserLoggedIn&&currentUser.phones.length>0">Pick a saved phone number above or add a new one below</div> -->
                        
                        <!-- user_settings custom_fields start -->
                        <div>
                          <div ng-repeat="field in userSettings.general_fields" ng-switch="field.type">
                            <span ng-switch-when="gender">
                              <div control-group label="性別"  ng-show="field.options.order.include=='true'">
                                <select type="text"
                                  name="user_gender"
                                  class="form-control"
                                  ng-required="field.options.order.required=='true'" 
                                  ng-model="save_user_fields.gender">
                                  <option value="male">男</option>
<option value="female">女</option>
<option value="other">其他</option>
                                </select>
                              </div>
                            </span>
                            <span ng-switch-when="birthday">
                              <div control-group label="生日" data-field-name="生日"  ng-show="field.options.order.include=='true'">
                                  <div class="input-group">
                                    <input type="text" 
                                      name="user_birthday" 
                                      class="form-control" 
                                      datepicker-popup="yyyy/MM/dd" 
                                      ng-model="save_user_fields.birthday"
                                      is-open="datepicker.open"
                                      show-button-bar="false" 
                                      datepicker-options="datepickerOptions"
                                      show-weeks="false" 
                                      ng-required="field.options.order.required=='true'" 
                                    />
                                    <span class="input-group-btn">
                                      <button type="button" class="btn btn-default" ng-click="open($event)"><i class="fa fa-calendar"></i></button>
                                    </span>
                                  </div>
                                  <div class="help-block">YYYY/MM/DD</div>
                                </div>
                            </span>
                          </div>
                          <div ng-repeat="field in userSettings.custom_fields">
                            <div control-group label="{{field.name_translations|translateModel}}" data-field-name="{{field.name_translations|translateModel}}" ng-show="field.options.order.include=='true'">
                              <input type="text" dynamic-name="'user_custom_field_'+$index" class="form-control"
                              placeholder="" ng-required="field.options.order.required=='true'" ng-model="save_user_fields.customer_info[field.field_id]">
                              <div class="help-block" ng-show="field.hint_translations">{{field.hint_translations|translateModel}}</div>
                            </div>
                          </div>
                        </div>
                        <!-- user_settings custom_fields end -->



                        <div control-group label="訂單備註" data-field-name="訂單備註">
                          <textarea class="form-control text optional" name="order_remarks" placeholder="有什麼想告訴賣家嗎？" rows="5"  ng-model="order.order_remarks" ng-maxlength="1000">
                          </textarea>
                        </div>


                        <h3 class="sl-section-title"><i class="fa fa-truck fa-lg sl-checkout-section-icon"></i>送貨及物流資訊</h3>


                        
                        <div control-group label="送貨方式" data-field-name="送貨方式">
                          <select  class= "selectpicker form-control" name="order_delivery_option" 
                            ng-model="order.delivery_option" 
                            ng-options="option as (option.name_translations|translateModel) for option in deliveryOptions"
                            ng-change="onDeliveryOptionChanged()"
                            ng-required="true">
                          </select> 
                          <div ng-show="order.delivery_option.show_description_on_checkout" class="help-block" ng-bind-html="order.delivery_option.description_translations|translateModel"></div>
                        </div>

                        <div ng-show="true">
                          <div ng-repeat="field in order.delivery_option.form_fields" ng-switch="field.type"> 
                            <span ng-switch-when="text">
                              <div control-group label="{{field.label}}" data-field-name="{{field.name}}">
                                <input class="form-control" dynamic-name="field.key" ng-model="order['delivery_data'][field.key]" placeholder="{{field.placeholder}}"  type="text" value="" ng-required="{{field.required}}"/>
                                <div class="help-block" ng-bind-html="trustAsHtml(field.hint)"></div>
                              </div>
                            </span>
                            <span ng-switch-when="button">
                              <div control-group label="{{field.label}}" data-field-name="{{field.name}}" style="position: relative;">
                                <input class="form-control" dynamic-name="field.key" ng-model="order['delivery_data'][field.key]" placeholder="{{field.placeholder}}"  type="hidden" value="" ng-required="{{field.required}}"/>
                                <div class="btn-block btn btn-default" style="padding: 15px;" ng-click="$emit(field.event)">
                                  <i class='pull-right fa fa-angle-right' style="margin-top: 3px;"></i>
                                  <div class="pull-left" ng-bind="order['delivery_data'][field.key]" ></div>
                                  <div class="text-right help-block" style="margin: 0px;" ng-bind-html="trustAsHtml(field.hint)"></div>
                                </div>
                              </div>
                            </span>
                            <span ng-switch-when="boolean">
                              <div control-group class="row" label="" data-field-name="{{field_label}}">
                                <div class="checkbox">
                                    <label>
                                      <input type="checkbox" dynamic-name="field.key" ng-model="order['delivery_data'][field.key]" ng-readonly="field.readonly"/> {{field.label}}
                                    </label>
                                    <div class="help-block" ng-show="field.hint">{{field.hint}}</div>
                                  </div>
                              </div>
                            </span>
                            <span ng-switch-when="hidden">
                              <input type="hidden" dynamic-name="field.key" ng-model="order['delivery_data'][field.key]" />
                            </span>
                          </div>
                        </div>

                        <div class="seven fields" ng-show="isSevenEleven()">
                          <div control-group label="收件人中文全名" data-field-name="收件人中文全名" >
                              <input class="form-control" name="delivery_data_recipient_name" ng-model="order.delivery_data.recipient_name" placeholder=""  type="text" value="" ng-required="isSevenEleven()">
                          </div>

                          <div control-group label="7-11 店號" data-field-name="7-11 店號" style="position: relative;" >
                            <input class="form-control" name="delivery_data_location_code" ng-model="order.delivery_data.location_code" placeholder=""  type="hidden" value="" ng-required="isSevenEleven()"/>
                            <div class="btn-block btn btn-default" style="padding: 15px;" ng-click="pickStore()">
                              <i class='pull-right fa fa-angle-right' style="margin-top: 3px;"></i>
                              <div class="pull-left" ng-bind="order.delivery_data.location_code" ></div>
                              <div class="text-right" style="margin: 0px;" ng-bind-html="trustAsHtml('搜尋門市')"></div>
                            </div>
                          </div>
                        </div>

                        <div class="hop fields" ng-show="order.delivery_option.region_type == 'hop'">
                          <div control-group label="HOP!地址" data-field-name="HOP!地址">
                            <select  class= "selectpicker form-control" name="hop_locations" 
                              ng-model="order.delivery_data.location_code" 
                              ng-options="location.id as (location.name_translations| translateModel) for location in hop_locations"
                              ng-change="onHopLocationChange()"
                              ng-required="order.delivery_option.region_type == 'hop'">
                            </select> 
                          </div>
                        </div>

                        <div class="address fields" ng-show="order.delivery_option.requires_customer_address"> 
                          <div control-group label="送貨地址" data-field-name="送貨地址" ng-if="isUserLoggedIn && filtered_delivery_addresses.length>0">
                            <select class= "selectpicker form-control" name="user_delivery_address" 
                            ng-model="selectedDeliveryAddress"
                            ng-change="onSelectedDeliveryAddress(selectedDeliveryAddress)"
                            ng-options="addr['recipient_name']+' - '+addr['address_1'] for addr in filtered_delivery_addresses">
                              <option value="">{{'checkout.fields.select'|translate}}</option>
                            </select>
                            <!-- <a ng-click="addNewDeliveryAddress()">{{'checkout.fields.add_new'|translate}}</a> -->
                          </div>
                          <!-- <div ng-if="!isUserLoggedIn || addNewSavedInfo.delivery_address"> -->
                            <div control-group label="收件人" data-field-name="收件人" >
                                <input class="form-control" name="delivery_address_recipient_name" ng-model="order.delivery_address.recipient_name" placeholder=""  type="text" value="" ng-required="order.delivery_option.requires_customer_address">
                            </div>
                            <div control-group label="地址" data-field-name="地址" >
                                <input class="form-control" name="delivery_address_address_1" ng-model="order.delivery_address.address_1" placeholder=""  type="text" value="" ng-required="order.delivery_option.requires_customer_address">
                            </div>
                            <div control-group label="" data-field-name="地址" hide-field-by-country="order.delivery_address.country">
                                <input class="form-control" name="delivery_address_address_2" ng-model="order.delivery_address.address_2" placeholder=""  type="text" value="" ng-required="false">
                            </div>
                            <div control-group label="城市" data-field-name="城市" hide-field-by-country="order.delivery_address.country">
                                <input class="form-control" name="delivery_address_city" ng-model="order.delivery_address.city" placeholder=""  type="text" value="" ng-required="order.delivery_option.requires_customer_address && !fieldHiddenByCountry">
                            </div>
                            <div control-group label="地區/州/省份" data-field-name="地區/州/省份" hide-field-by-country="order.delivery_address.country">
                                <input class="form-control" name="delivery_address_state" ng-model="order.delivery_address.state" placeholder=""  type="text" value="" >
                            </div>
                            <div control-group label="郵政編號（如適用)" data-field-name="郵政編號（如適用)" hide-field-by-country="order.delivery_address.country">
                                <input class="form-control" name="delivery_address_postcode" ng-model="order.delivery_address.postcode" placeholder="" type="text" value="" ng-required="false">
                            </div>

                            <div control-group label="地區／國家" data-field-name="地區／國家" >
                              <select class=" selectpicker form-control" name="merchant_delivery_address_country" 
                                ng-if="order.delivery_option.region_type != 'local'"
                                ng-model="order.delivery_address.country"
                                ng-options="country.code as country.name for country in countries"
                                ng-required="order.delivery_option.requires_customer_address"
                                > 
                              </select>
                              <span ng-if="order.delivery_option.region_type == 'local'">
                                {{ (countries | filter : { code : order.delivery_address.country})[0].name }}
                              </span>
                            </div>
                            <div class="help-block" ng-if="isUserLoggedIn"><input type="checkbox" name="save_delivery_address" ng-model="save_fields.delivery_address" ng-disabled="currentUser.delivery_addresses.indexOf(order.delivery_address)>=0"/> 儲存這個送貨地址</div>
                          <!-- </div> -->
                          <div control-group label="備註" data-field-name="備註" >
                            <textarea rows="5"  class="form-control required"  name="delivery_address_remarks" ng-model="order.delivery_address.remarks" placeholder=""  type="text" value=""></textarea>
                          </div> 
                        </div> <!-- address fields-->

                        <h3 class="sl-section-title"><i class="fa fa-credit-card fa-lg sl-checkout-section-icon"></i>付款資訊</h3>
                        
                        <!-- payment section start -->
                        <div class="divider" ng-show="order.payment_method.type == 'prizm'"></div>
                        <div control-group label="付款方式" data-field-name="付款方式" >
                            <select name="order_payment_method_id"
                            class="selectpicker form-control"
                            ng-change="updateOrder()"
                            ng-model="order.payment_method"
                            ng-options="option as (option.name_translations|translateModel) for option in paymentMethods">
                           </select>             
                          {{order.payment_method_selected.instructions}}
                          <div ng-show="order.payment_method.show_description_on_checkout" class="help-block" ng-bind-html="order.payment_method.instructions_translations|translateModel"></div>
                          <div class="help-block" ng-if="order.payment_method.type == 'allpay' && order.payment_method.config_data.credit_installment">
                          
<!-- Button trigger modal -->
<a data-toggle="modal" data-target="#allpayCreditInstallmentModal">
  按此查看提供分期之銀行
</a>
<div class="modal fade" id="allpayCreditInstallmentModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title">提供分期之銀行</h4>
      </div>
      <div class="modal-body">
        <table class="table">
          <tr>
            <th class="col-xs-3"></th>
            <th style="text-align: center;">3期</th>
            <th style="text-align: center;">6期</th>
            <th style="text-align: center;">12期</th>
            <th style="text-align: center;">18期</th>
            <th style="text-align: center;">24期</th>
          </tr>
          <tr>
            <td class="col-xs-3">合庫</td>
              <td style="text-align: center;">
                <i class="fa fa-check"></i>
              </td>
              <td style="text-align: center;">
                <i class="fa fa-check"></i>
              </td>
              <td style="text-align: center;">
                <i class="fa fa-check"></i>
              </td>
              <td style="text-align: center;">
                <i class="fa fa-check"></i>
              </td>
              <td style="text-align: center;">
                <i class="fa fa-check"></i>
              </td>
          </tr>
          <tr>
            <td class="col-xs-3">一銀</td>
              <td style="text-align: center;">
                <i class="fa fa-check"></i>
              </td>
              <td style="text-align: center;">
                <i class="fa fa-check"></i>
              </td>
              <td style="text-align: center;">
                <i class="fa fa-check"></i>
              </td>
              <td style="text-align: center;">
                <i class="fa fa-check"></i>
              </td>
              <td style="text-align: center;">
                <i class="fa fa-check"></i>
              </td>
          </tr>
          <tr>
            <td class="col-xs-3">彰銀</td>
              <td style="text-align: center;">
                <i class="fa fa-check"></i>
              </td>
              <td style="text-align: center;">
                <i class="fa fa-check"></i>
              </td>
              <td style="text-align: center;">
                <i class="fa fa-check"></i>
              </td>
              <td style="text-align: center;">
                <i class="fa fa-check"></i>
              </td>
              <td style="text-align: center;">
                <i class="fa fa-check"></i>
              </td>
          </tr>
          <tr>
            <td class="col-xs-3">富邦</td>
              <td style="text-align: center;">
                <i class="fa fa-check"></i>
              </td>
              <td style="text-align: center;">
                <i class="fa fa-check"></i>
              </td>
              <td style="text-align: center;">
                <i class="fa fa-check"></i>
              </td>
              <td style="text-align: center;">
                <i class="fa fa-check"></i>
              </td>
              <td style="text-align: center;">
                <i class="fa fa-check"></i>
              </td>
          </tr>
          <tr>
            <td class="col-xs-3">永豐</td>
              <td style="text-align: center;">
                <i class="fa fa-check"></i>
              </td>
              <td style="text-align: center;">
                <i class="fa fa-check"></i>
              </td>
              <td style="text-align: center;">
                <i class="fa fa-check"></i>
              </td>
              <td style="text-align: center;">
                <i class="fa fa-check"></i>
              </td>
              <td style="text-align: center;">
                <i class="fa fa-check"></i>
              </td>
          </tr>
          <tr>
            <td class="col-xs-3">遠東</td>
              <td style="text-align: center;">
                <i class="fa fa-check"></i>
              </td>
              <td style="text-align: center;">
                <i class="fa fa-check"></i>
              </td>
              <td style="text-align: center;">
                <i class="fa fa-check"></i>
              </td>
              <td style="text-align: center;">
                <i class="fa fa-check"></i>
              </td>
              <td style="text-align: center;">
                <i class="fa fa-check"></i>
              </td>
          </tr>
          <tr>
            <td class="col-xs-3">兆豐</td>
              <td style="text-align: center;">
                <i class="fa fa-check"></i>
              </td>
              <td style="text-align: center;">
                <i class="fa fa-check"></i>
              </td>
              <td style="text-align: center;">
                <i class="fa fa-check"></i>
              </td>
              <td style="text-align: center;">
                <i class="fa fa-check"></i>
              </td>
              <td style="text-align: center;">
                <i class="fa fa-check"></i>
              </td>
          </tr>
          <tr>
            <td class="col-xs-3">新光</td>
              <td style="text-align: center;">
                <i class="fa fa-check"></i>
              </td>
              <td style="text-align: center;">
                <i class="fa fa-check"></i>
              </td>
              <td style="text-align: center;">
                <i class="fa fa-check"></i>
              </td>
              <td style="text-align: center;">
                <i class="fa fa-check"></i>
              </td>
              <td style="text-align: center;">
                <i class="fa fa-check"></i>
              </td>
          </tr>
          <tr>
            <td class="col-xs-3">國泰世華</td>
              <td style="text-align: center;">
                <i class="fa fa-check"></i>
              </td>
              <td style="text-align: center;">
                <i class="fa fa-check"></i>
              </td>
              <td style="text-align: center;">
                <i class="fa fa-check"></i>
              </td>
              <td style="text-align: center;">
                <i class="fa fa-check"></i>
              </td>
              <td style="text-align: center;">
                <i class="fa fa-check"></i>
              </td>
          </tr>
          <tr>
            <td class="col-xs-3">台灣企銀</td>
              <td style="text-align: center;">
                <i class="fa fa-check"></i>
              </td>
              <td style="text-align: center;">
                <i class="fa fa-check"></i>
              </td>
              <td style="text-align: center;">
                <i class="fa fa-check"></i>
              </td>
              <td style="text-align: center;">
                <i class="fa fa-check"></i>
              </td>
              <td style="text-align: center;">
                <i class="fa fa-check"></i>
              </td>
          </tr>
          <tr>
            <td class="col-xs-3">大眾銀行</td>
              <td style="text-align: center;">
                <i class="fa fa-check"></i>
              </td>
              <td style="text-align: center;">
                <i class="fa fa-check"></i>
              </td>
              <td style="text-align: center;">
                <i class="fa fa-check"></i>
              </td>
              <td style="text-align: center;">
                <i class="fa fa-check"></i>
              </td>
              <td style="text-align: center;">
              </td>
          </tr>
          <tr>
            <td class="col-xs-3">匯豐銀行</td>
              <td style="text-align: center;">
                <i class="fa fa-check"></i>
              </td>
              <td style="text-align: center;">
                <i class="fa fa-check"></i>
              </td>
              <td style="text-align: center;">
                <i class="fa fa-check"></i>
              </td>
              <td style="text-align: center;">
                <i class="fa fa-check"></i>
              </td>
              <td style="text-align: center;">
                <i class="fa fa-check"></i>
              </td>
          </tr>
          <tr>
            <td class="col-xs-3">玉山</td>
              <td style="text-align: center;">
                <i class="fa fa-check"></i>
              </td>
              <td style="text-align: center;">
                <i class="fa fa-check"></i>
              </td>
              <td style="text-align: center;">
                <i class="fa fa-check"></i>
              </td>
              <td style="text-align: center;">
                <i class="fa fa-check"></i>
              </td>
              <td style="text-align: center;">
                <i class="fa fa-check"></i>
              </td>
          </tr>
          <tr>
            <td class="col-xs-3">台新</td>
              <td style="text-align: center;">
                <i class="fa fa-check"></i>
              </td>
              <td style="text-align: center;">
                <i class="fa fa-check"></i>
              </td>
              <td style="text-align: center;">
                <i class="fa fa-check"></i>
              </td>
              <td style="text-align: center;">
                <i class="fa fa-check"></i>
              </td>
              <td style="text-align: center;">
                <i class="fa fa-check"></i>
              </td>
          </tr>
          <tr>
            <td class="col-xs-3">凱基</td>
              <td style="text-align: center;">
                <i class="fa fa-check"></i>
              </td>
              <td style="text-align: center;">
                <i class="fa fa-check"></i>
              </td>
              <td style="text-align: center;">
                <i class="fa fa-check"></i>
              </td>
              <td style="text-align: center;">
                <i class="fa fa-check"></i>
              </td>
              <td style="text-align: center;">
                <i class="fa fa-check"></i>
              </td>
          </tr>
          <tr>
            <td class="col-xs-3">台中商銀</td>
              <td style="text-align: center;">
                <i class="fa fa-check"></i>
              </td>
              <td style="text-align: center;">
                <i class="fa fa-check"></i>
              </td>
              <td style="text-align: center;">
                <i class="fa fa-check"></i>
              </td>
              <td style="text-align: center;">
              </td>
              <td style="text-align: center;">
                <i class="fa fa-check"></i>
              </td>
          </tr>
          <tr>
            <td class="col-xs-3">渣打</td>
              <td style="text-align: center;">
                <i class="fa fa-check"></i>
              </td>
              <td style="text-align: center;">
                <i class="fa fa-check"></i>
              </td>
              <td style="text-align: center;">
                <i class="fa fa-check"></i>
              </td>
              <td style="text-align: center;">
                <i class="fa fa-check"></i>
              </td>
              <td style="text-align: center;">
                <i class="fa fa-check"></i>
              </td>
          </tr>
          <tr>
            <td class="col-xs-3">日盛</td>
              <td style="text-align: center;">
                <i class="fa fa-check"></i>
              </td>
              <td style="text-align: center;">
                <i class="fa fa-check"></i>
              </td>
              <td style="text-align: center;">
                <i class="fa fa-check"></i>
              </td>
              <td style="text-align: center;">
                <i class="fa fa-check"></i>
              </td>
              <td style="text-align: center;">
                <i class="fa fa-check"></i>
              </td>
          </tr>
          <tr>
            <td class="col-xs-3">澳盛</td>
              <td style="text-align: center;">
                <i class="fa fa-check"></i>
              </td>
              <td style="text-align: center;">
                <i class="fa fa-check"></i>
              </td>
              <td style="text-align: center;">
                <i class="fa fa-check"></i>
              </td>
              <td style="text-align: center;">
                <i class="fa fa-check"></i>
              </td>
              <td style="text-align: center;">
                <i class="fa fa-check"></i>
              </td>
          </tr>
          <tr>
            <td class="col-xs-3">華南(11/22新增)</td>
              <td style="text-align: center;">
                <i class="fa fa-check"></i>
              </td>
              <td style="text-align: center;">
                <i class="fa fa-check"></i>
              </td>
              <td style="text-align: center;">
                <i class="fa fa-check"></i>
              </td>
              <td style="text-align: center;">
                <i class="fa fa-check"></i>
              </td>
              <td style="text-align: center;">
                <i class="fa fa-check"></i>
              </td>
          </tr>
        </table>
      </div>
    </div><!-- /.modal-content -->
  </div><!-- /.modal-dialog -->
</div><!-- /.modal -->
                          </div>
                        </div>

                        <div ng-show="order.payment_method.type=='braintree'">
                          <!-- credit card -->
                          <div class="row" >
                            <div class="col-xs-12">
                              <div control-group label="{{'payment.cc.holdername'|translate}}" data-field-name="{{'payment.cc.holdername'|translate}}" >
                                <input class="form-control" name="creditcard_holdername" ng-model="order.payment_data.holdername" placeholder="{{'payment.cc.holdername.placeholder'|translate}}"  type="text" ng-maxlength="50" ng-required="order.payment_method.type == 'braintree'">
                              </div>
                            </div>
                            <div class="col-xs-12">
                              <div control-group label="{{'payment.cc.number'|translate}}" data-field-name="{{'payment.cc.number'|translate}}" >
                                <input credit-card-number class="form-control" name="creditcard_number" ng-model="order.payment_data.credit_card_number" placeholder="{{'payment.cc.number.placeholder'|translate}}"  type="text" ng-maxlength="16" ng-minlength="16" ng-required="order.payment_method.type == 'braintree'">
                              </div>
                            </div>
                            <div class="col-xs-6">
                              <div control-group label="{{'payment.cc.expirydate'|translate}}" data-field-name="{{'payment.cc.expirydate'|translate}}" >
                                <input credit-card-expiry-date  class="form-control" name="creditcard_expirydate" ng-model="order.payment_data.expiry_date" placeholder="{{'payment.cc.expirydate.placeholder'|translate}}"  type="text" ng-required="order.payment_method.type == 'braintree'">
                              </div>
                            </div>
                            <div class="col-xs-6">
                              <div control-group  label="{{'payment.cc.cvc'|translate}}" data-field-name="{{'payment.cc.cvc'|translate}}" >
                                <input credit-card-cvc class="form-control" name="creditcard_cvc" ng-model="order.payment_data.cvc" placeholder="{{'payment.cc.cvc.placeholder'|translate}}"  type="text" ng-maxlength="3"
                                 ng-minlength="3" ng-required="order.payment_method.type == 'braintree'">
                              </div>
                            </div>
                          </div> 
                          <!-- End of credit card -->
                        </div>


                        <!-- Prizm start -->
                        <div id="prizm" ng-if="order.payment_method.type == 'prizm'"> 
                          <div class="checkout-section-header global-primary dark-primary">
                            {{'checkout.payment_method.title'|translate}}
                          </div>
                          <!-- credit card -->
                          <!-- <div class="row" >
                            <div class="col-xs-12">
                              <div control-group label="{{'payment.cc.holdername'|translate}}" data-field-name="{{'payment.cc.holdername'|translate}}" >
                                <input class="form-control" name="creditcard_holdername" ng-model="order.payment_data.holdername" placeholder="{{'payment.cc.holdername.placeholder'|translate}}"  type="text" ng-maxlength="50" ng-required="order.payment_method.type == 'prizm'">
                              </div>
                            </div>
                            <div class="col-xs-12">
                              <div control-group label="{{'payment.cc.number'|translate}}" data-field-name="{{'payment.cc.number'|translate}}" >
                                <input credit-card-number class="form-control" name="creditcard_number" ng-model="order.payment_data.credit_card_number" placeholder="{{'payment.cc.number.placeholder'|translate}}"  type="text" ng-maxlength="16" ng-minlength="16" ng-required="order.payment_method.type == 'prizm'">
                              </div>
                            </div>
                            <div class="col-xs-6">
                              <div control-group label="{{'payment.cc.expirydate'|translate}}" data-field-name="{{'payment.cc.expirydate'|translate}}" >
                                <input credit-card-expiry-date  class="form-control" name="creditcard_expirydate" ng-model="order.payment_data.expiry_date" placeholder="{{'payment.cc.expirydate.placeholder'|translate}}"  type="text" ng-required="order.payment_method.type == 'prizm'">
                              </div>
                            </div>
                            <div class="col-xs-6">
                              <div control-group  label="{{'payment.cc.cvc'|translate}}" data-field-name="{{'payment.cc.cvc'|translate}}" >
                                <input credit-card-cvc class="form-control" name="creditcard_cvc" ng-model="order.payment_data.cvc" placeholder="{{'payment.cc.cvc.placeholder'|translate}}"  type="text" ng-maxlength="3"
                                 ng-minlength="3" ng-required="order.payment_method.type == 'prizm'">
                              </div>
                            </div>
                          </div>  -->
                          <!-- End of credit card -->
                          
                          <div class="divider"></div>
                          <div class="checkout-section-header global-primary dark-primary">
                            {{'orders.fields.billing_address'|translate}}
                          </div>

                          <div style="margin-bottom: 20px" class="" ng-show="order.delivery_option.requires_customer_address">
                            <input type="checkbox" name="order.billing_address_same" ng-model="order.billing_address_same" ng-init="order.billing_address_same=true" />
                            {{'order.billing_address.same'|translate}}
                          </div>

                          <div class="prizm" ng-show="!order.billing_address_same || !order.delivery_option.requires_customer_address ">
                            <div control-group label="{{'address.fields.address'|translate}}" data-field-name="{{'address.fields.address'|translate}}" >
                                <input class="form-control" name="billing_address_address_1" ng-model="order.billing_address.address_1" placeholder=""  type="text" value="" ng-required="(!order.billing_address_same || !order.delivery_option.requires_customer_address) && order.payment_method.type == 'prizm' ">
                            </div>
                            <div control-group label="" data-field-name="{{'address.fields.address'|translate}}"  hide-field-by-country="order.billing_address.country">
                                <input class="form-control" name="billing_address.address_2" ng-model="order.billing_address.address_2" placeholder=""  type="text" value="" ng-required="false" ng-required="">
                            </div>
                            <div control-group label="{{'address.fields.address.city'|translate}}" data-field-name="{{'address.fields.address.city'|translate}}" hide-field-by-country="order.billing_address.country">
                                <input class="form-control" name="billing_address_city" ng-model="order.billing_address.city" placeholder=""  type="text" value="" ng-required="(!order.billing_address_same || !order.delivery_option.requires_customer_address) && order.payment_method.type == 'prizm'">
                            </div>
                            <div control-group label="{{'address.fields.address.state'|translate}}" data-field-name="{{'address.fields.address.state'|translate}}" hide-field-by-country="order.billing_address.country">
                                <input class="form-control" name="billing_address_state" ng-model="order.billing_address.state" placeholder=""  type="text" value="" ng-required="(!order.billing_address_same || !order.delivery_option.requires_customer_address) && order.payment_method.type == 'prizm'">
                            </div>
                            <div control-group label="{{'address.fields.address.postcode'|translate}}" data-field-name="{{'address.fields.address.postcode'|translate}}"  hide-field-by-country="order.billing_address.country">
                                <input class="form-control" name="billing_address_postcode" ng-model="order.billing_address.postcode" placeholder=""  type="text" value="" ng-required="false">
                            </div>
                            <div control-group label="{{'address.fields.address.country'|translate}}" data-field-name="{{'address.fields.address.country'|translate}}" >                      
                                <select  class=" selectpicker form-control" name="merchant_billing_address_country" 
                                  ng-model="order.billing_address.country"
                                  ng-options="country.code as country.name for country in countries"
                                  ng-required="(!order.billing_address_same || !order.delivery_option.requires_customer_address) && order.payment_method.type == 'prizm'"> 
                                </select>
                            </div> 
                             

                          </div> 
                          <!-- billing address-->
                        <!-- payment section end -->
                        </div>

                        <!-- Prizm end -->

                        <!-- order_settings custom_fields start -->
                        <div>
                            <div ng-repeat="field in orderSettings.custom_fields">
                              <div ng-switch on="field.type">
                                  <span ng-switch-when="text">
                                    <div control-group label="{{field.name_translations|translateModel}}" data-field-name="{{field.name}}">
                                      <input type="text" dynamic-name="'order_custom_field_'+$index" class="form-control" ng-model="order.custom_fields_translations[$index].value"
                                      placeholder="{{field.placeholder}}" ng-required="field.required">
                                      <div class="help-block" ng-show="isEmptyObject(field)">{{field.hint_translations|translateModel}}</div>
                                    </div>
                                  </span>
                                  <span ng-switch-when="textarea">
                                    <label class="custom-field-note" ng-bind-html="field.name_translations|translateModel"></label>
                                  </span>
                                  <span ng-switch-when="select">
                                    <div control-group label="{{field.label}}" data-field-name="{{field_label}}">
                                      <select  class= "form-control"  
                                        dynamic-name="field.key"
                                        ng-model="order.custom_fields[field.key]" 
                                        ng-options="item.code as item.label for item in field.options"> 
                                      </select> 
                                      <div class="help-block" ng-show="field.hint">{{field.hint}}</div>
                                    </div>
                                  </span>

                                  <span ng-switch-when="checkbox">
                                    <div control-group label="" data-field-name="{{field_label}}">
                                      <div class="checkbox">
                                          <label>
                                            <input type="checkbox" dynamic-name="field.key" ng-model="order.custom_fields[field.key]"> {{field.label}}
                                          </label>
                                          <div class="help-block" ng-show="field.hint">{{field.hint}}</div>
                                        </div>
                                    </div>
                                  </span>
                                  <span ng-switch-when="select_image">
                                    <div control-group label="{{field.label}}" data-field-name="{{field_label}}">
                                      <span ng-repeat="item in field.options">
                                        <div  class="btn inline-block" ng-class="{'btn-default': order.custom_fields[field.key] == item.code}" ng-click="order.custom_fields[field.key] = item.code">
                                          <img ng-src="{{item.thumb_url}}" />
                                        </div>
                                      </span>
                                      
                                      <div class="help-block" ng-show="field.hint">{{field.hint}}</div>
                                    </div>
                                  </span>
                                  
                                  <span ng-switch-default>
                                  </span>
                              </div>
                          </div>
                        </div>
                        <!-- order_settings custom_fields end -->
                        <div>
                        </div>
                      </form>
                    </div> 

                    <div class="col-md-6 ">
<div class=" padding-bottom-md">
<h3 class="sl-section-title">&nbsp;<!-- <i class="fa fa-ticket fa-lg sl-checkout-section-icon"></i>優惠券代碼 --></h3>
                        <form class="checkout-coupon-form" ng-submit="submitCoupon()" name="couponForm" novalidate method="POST">
                          <div control-group label="{{'orders.coupons.label'|translate}}" data-field-name="{{'orders.coupons.label'|translate}}" >
                            <input class="form-control" placeholder="{{'orders.coupons.placeholder'|translate}}" name="coupon_code" type="text" 
                              ng-model="coupon.code"
                              ng-maxlength="255"
                              ng-change="couponCodeChanged()"
                                />
                          </div>
                          <div ng-show="couponErrorMessage" class="alert alert-danger">
                            {{couponErrorMessage}}
                          </div>

                          <div ng-show="hasCoupons()">
                            <div field-group label="{{'orders.coupons'|translate}}">
                              <!-- <div class="name">{{coupon.name}}</div> -->
                              <!-- <div class="description">{{coupon.description}}</div> -->
                              <div ng-repeat="coupon in order.coupons| filter:{campaign_id: 'null'}">
                                <div class="name">{{ coupon.title_translations |translateModel}}</div>
                                <div class="description">{{ coupon.description }}</div>
                                <div class="checkout-prod-remove">
                                  <a ng-click="removeCouponFromCart(coupon._id,$event)">{{'cart.items.remove'|translate}}</a>
                                </div>
                              </div>
                            </div>
                          </div>
                          <div class="text-right">
                            <button type="submit" 
                              class="btn btn-custom-small btn-color-primary ladda-button "  data-style="slide-down" ladda="couponLoading || updatingCart">
                                使用優惠卷
                            </button>
                          </div>
                        </form>
                        
                      </div>
   


                      <div class="row">
                        <div class="col-xs-8" style="text-align:right"> 
                          <div class="tally-label dark-secondary">小計:</div>
                        </div>
                        <div class="col-xs-4" style="text-align:right">
                          <div class="tally-price dark-secondary" ng-bind-html="currentCart.getSubtotal().label"></div>
                        </div>
                      </div>
                      <div class="row" ng-show="currentCart.getOrderDiscount().cents">
                        <div class="col-xs-8" style="text-align:right"> 
                          <div class="tally-label dark-secondary">折扣:</div>
                        </div>
                        <div class="col-xs-4" style="text-align:right">
                          <div class="tally-price dark-secondary">-<span ng-bind-html="currentCart.getOrderDiscount().label"></span></div>
                        </div>
                      </div>
                      
                      <div class="row">
                        <div class="col-xs-8" style="text-align:right"> 
                          <div class="tally-label dark-secondary">運費:</div>
                        </div>
                        <div class="col-xs-4" style="text-align:right">
                          <div class="tally-price dark-secondary" ng-bind-html="currentCart.getDeliveryFee().label"></div>
                        </div>
                      </div>

                      <div class="row" ng-show="currentCart.getPaymentFee().label">
                        <div class="col-xs-8" style="text-align:right"> 
                          <div class="tally-label dark-secondary">附加費:</div>
                        </div>
                        <div class="col-xs-4" style="text-align:right">
                          <div class="tally-price dark-secondary" ng-bind-html="currentCart.getPaymentFee().label"></div>
                        </div>
                      </div>
                      
                      <div class="row">
                        <div class="col-xs-8" style="text-align:right"> 
                          <div class="tally-label dark-secondary"><strong>合計:</strong></div>
                        </div>
                        <div class="col-xs-4" style="text-align:right">
                           <strong class="tally-price dark-secondary" ng-bind-html="total.label"></strong>
                        </div>
                      </div>

                      <div class="row" ng-if="order.payment_method.config_data.credit_installment">
                        <div class="col-xs-12">
                          <span class="alert alert-warning pull-right" translate="checkout.instalment_amount" translate-value-amount="{{total.cents / order.payment_method.config_data.credit_installment / mainConfig.merchantData.base_currency.subunit_to_unit | currency:mainConfig.merchantData.base_currency.alternate_symbol:0}}" translate-value-period="{{order.payment_method.config_data.credit_installment}}"></span>
                        </div>
                      </div>  
                      

                      <div class="row">
                        <div class="col-sm-12">
                          <div  label="" data-field-name="terms" class="text-right">
                            <div class="">
                              <label style="font-weight: 400;font-size: 14px;">
                                <input type="checkbox" name="order_terms" ng-model="order.terms"> 我同意<a class='agree-highlight' href=/about/terms target='_blank'>服務條款</a>和<a class='agree-highlight' href=/about/policy target='_blank'>退換貨政策</a>
                              </label>
                            </div>
                            <div class="" ng-if="!isUserLoggedIn">
                              <label style="font-weight: 400;font-size: 14px;">
                                <input type="checkbox" name="save_all" ng-model="save_fields.all"> 成為 Mia cake 米亞手工蛋糕 的會員
                              </label>
                            </div>
                            <div class="" ng-if="!isUserLoggedIn">
                              <label style="font-weight: 400;font-size: 14px;">
                                <input type="checkbox" name="save_marketing" ng-model="save_fields.marketing"> 我想收到最新資訊及優惠方案
                              </label>
                            </div>
                          </div>
                        </div>
                      </div>
                      <div class="row">
                        <div class="col-xs-12" style="text-align:right;margin-top:20px">
                          <button id="btn-form-submit-process-order"  type="submit" src="" border="0" name="submit" alt=""
                            class="btn btn-custom-large btn-color-primary ladda-button"  data-style="slide-down" ladda="checkoutLoading || updatingCart || couponLoading" ng-click="processOrder()">
                            {{'orders.action.checkout'|translate}}
                          </button>
                        </div>
                        <div class="col-xs-12" style="text-align:right">
                          <div ng-show="couponErrorMessage && orderForm.submitted" class="help-block text-danger">
                           {{'orders.coupons.invalid.order'|translate}}
                          </div>
                          <div class="help-block text-danger" ng-show="errorMessage"  style="">
                            {{errorMessage}}
                          </div>

                        </div>
                      </div> <!--row-->
                    </div> <!--col-md-6-->
                  </div> <!--row-->    
                
              </div> <!--checkout-container-->
            </div><!--col-md-12-->
          </div><!--row-->
        </div> <!-- container -->
      </div><!--container-wrapper-->

      <div id='paypal_form_container' >
          <form id="paypal_form" accept-charset="UTF-8" action="https://www.paypal.com/cgi-bin/webscr" method="post" style="display:none">
        
         
          <input type="hidden" name="cmd" value="_cart">
          <input type="hidden" name="business" value="{{order.payment_method.config_data.email}}">
          
          <input type="hidden" name="upload" value="1">

          <input type="hidden" name="amount" value="{{createdOrder.total.dollars}}">
          <input type="hidden" name="currency_code" value="{{createdOrder.total.currency_iso}}">
          
          <input type="hidden" name="first_name" value="">
          <input type="hidden" name="last_name" value="">
          <input type="hidden" name="address1" value="">
          <input type="hidden" name="address2" value="">
          <input type="hidden" name="city" value="">
          <input type="hidden" name="state" value="">
          <input type="hidden" name="zip" value="">
          <input type="hidden" name="email" value="">
          <input name="bn" value="Shopline_SP" type=" hidden">

          <input type="hidden" name="return" value="{{mainConfig.merchantData.shop_default_home_url}}/orders/{{createdOrder._id}}/confirm?authorization_token={{createdOrder.authorization_token}}">
          <input type="hidden" name="cancel_return" value="{{mainConfig.merchantData.shop_default_home_url}}/orders/{{createdOrder._id}}/cancel?authorization_token={{createdOrder.authorization_token}}">
          <input type="hidden" name="notify_url" value="{{mainConfig.merchantData.shop_default_home_url}}/api/orders/{{createdOrder._id}}/payment_ack?ack_token={{createdOrder.authorization_token}}">
          <input TYPE="hidden" name="charset" value="utf-8">
          <div ng-repeat="item in createdOrder.subtotal_items" on-finish-render-filters>
              <input type="hidden" name="item_name_{{$index+1}}" value="{{item.object_data.title_translations|translateModel}}">
              <input type="hidden" name="amount_{{$index+1}}" value="{{item.item_price.dollars}}">
              <input type="hidden" name="quantity_{{$index+1}}" value="{{item.quantity}}">
          </div>   
          <input TYPE="hidden" name="discount_amount_cart" value="{{createdOrder.order_discount.total.dollars}}"/>
          
          <input type="hidden" name="handling_cart" value="{{createdOrder.handling_fee.dollars}}">
          <!-- <input type="hidden" name="handling_cart" value="{{createdOrder.delivery_option.total.dollars}}"> -->
          <input type="image" name="submit" border="0"
          src="https://www.paypalobjects.com/en_US/i/btn/btn_buynow_LG.gif"
          alt="PayPal - The safer, easier way to pay online">
        </form>
      </div><!--paypal_form_container-->
      <!-- allpay_form -->
      <form id="allpay_form" accept-charset="UTF-8" action="https://payment.allpay.com.tw/Cashier/AioCheckOut" accept-charset="UTF-8" method="post" style="display: none;">
        <input ng-repeat="(key, val) in createdOrder.allpay_form" name='{{key}}' type='hidden' value='{{val}}'/>
        <input value="Submit" type="submit" />
      </form><!-- allpay_form -->

      <!-- esun form -->
          <form id="esun_form" accept-charset="UTF-8" action="https://acq.esunbank.com.tw/acq_online/online/sale42.htm" method="post" style="display: none;">
          <input ng-repeat="(key, val) in createdOrder.esun_form" name='{{key}}' type='hidden' value='{{val}}'/>
            <input value="Submit" type="submit">
          </form>
      <!-- esun form -->
      <!-- seven_eleven_map_selector -->
      <form action="http://emap.shopping7.com.tw/emap/c2cemap.ashx" method="POST" id="seven_eleven_map_selector" name="seven_eleven_map_selector">
        <input type="hidden" name="url" value="http://www.miacake2008.com/callback?isSameTab=true">
      </form>
      <!-- seven_eleven_map_selector -->
    </div><!--container animate-show-->
  </div><!-- cart not empty -->
</div><!--CheckoutController-->
 
      </div><!--yield-wrapper-->
      <!-- main Content end-->
    </div><!-- body-content-->
    
     <!---footer -->
    <div id="footer">
      <div class="container">
        <div class="row">
          <div class="col-sm-6">

            <!-- Footer Links -->
            <ul>
                  <li class="">
                    <a class="" href="/about" target="">商店介紹</a>
                  </li>
            </ul>
            <!-- End Footer Links -->

          </div>

          <div class="col-sm-6 sociallinks">
            
            <!-- Payment Social Networks -->
            <ul>
                <li class="global-secondary icon-footer_email">
                  <li class="">
                    <a class="" href="https://www.facebook.com/miacake2008" target="_blank">Facebook 專頁</a>
                  </li>
                </li>
            </ul>
            <!-- End Social Networks -->

          </div>


          <div class="col-sm-12 badges">

            <div class="credit-cards">
              <!--render logo by type ["visa", "master", "amex", "paypal","prizm"]-->
            </div>  
            
            
          </div>


        </div><!--row-->
      </div>
    </div>
    <!---footer end-->
   
 </div> <!--body-wrapper-->
	 		

  <!-- start countly -->
  <script type="text/javascript">
    //initializing countly with params
    // var Countly = Countly || {};
    // Countly.q = Countly.q || [];
    //provide countly initialization parameters
    // Countly.app_key = "234f6523d0d1a8b430364ea094e191a767f86b06";
    // Countly.url = "http://dc1.shoplinedev.com"; //or none for default countly cloud


    // Countly.init({
    //   app_key: "dd1896ed6ed2ec72b22854a4fbebbd8712ec4d36",
    //   url: "http://count.shoplineapp.com",
    // })

    
//    Countly.begin_session(true);
    // Countly.add_event({
    //   "key": "pageView",
    //   "device_id":" d17a27a8a5b36bdf93b31e52fb4e3944",
    //   "session_duration": 30,
    //   "segmentation": {
    //     "url": window.location.pathname,
    //     merchantId: '55f23f06e36c8e916c000071'
    //   }
    // });
    //end session on leaving page

    // Countly.q.push(['session_duration', 1800]);
    // Countly.q.push(['add_event',{
    //   key:"asyncPageView", 
    //   "segmentation": {
    //     "url": window.location.pathname
    //   }
    // }]);


  </script>
  <!-- end countly-->


    <!-- start Mixpanel -->
    <script type="text/javascript">(function(e,b){if(!b.__SV){var a,f,i,g;window.mixpanel=b;b._i=[];b.init=function(a,e,d){function f(b,h){var a=h.split(".");2==a.length&&(b=b[a[0]],h=a[1]);b[h]=function(){b.push([h].concat(Array.prototype.slice.call(arguments,0)))}}var c=b;"undefined"!==typeof d?c=b[d]=[]:d="mixpanel";c.people=c.people||[];c.toString=function(b){var a="mixpanel";"mixpanel"!==d&&(a+="."+d);b||(a+=" (stub)");return a};c.people.toString=function(){return c.toString(1)+".people (stub)"};i="disable track track_pageview track_links track_forms register register_once alias unregister identify name_tag set_config people.set people.set_once people.increment people.append people.track_charge people.clear_charges people.delete_user".split(" ");
      for(g=0;g<i.length;g++)f(c,i[g]);b._i.push([a,e,d])};b.__SV=1.2;a=e.createElement("script");a.type="text/javascript";a.async=!0;a.src=("https:"===e.location.protocol?"https:":"http:")+'//cdn.mxpnl.com/libs/mixpanel-2.2.min.js';f=e.getElementsByTagName("script")[0];f.parentNode.insertBefore(a,f)}})(document,window.mixpanel||[]);
      mixpanel.init("7fa402cb00bfbd58e93b2ab7c641880d");</script>
    <!-- end Mixpanel -->

    



        <script type="text/javascript">
          (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
          (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
          })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
          ga('create', 'UA-42689846-6', 'auto');
          //ga('create', 'UA-42689846-1', 'auto');
          ga('send', 'pageview');
        </script>      

    

      <script type="text/javascript">
        
      </script>
      


   
  
  <script type="text/javascript">
    $(document).ready(function() {
      //NOTE: temporarily hack to make boxify work, boxify should be replaced by using other tools and techniques 
      $.boxify({});
    });
  </script>


</body>
</html>
